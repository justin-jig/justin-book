---
title: "ì‘ë‹µ í‘œí˜„ í‘œì¤€ (Response Representation Standard)"
date: 2025-10-25
---

#### ìš”ì•½

- API ì‘ë‹µì˜ ì¼ê´€ì„±ì„ í™•ë³´í•˜ê¸° ìœ„í•œ **í‘œì¤€ JSON êµ¬ì¡°**ë¥¼ ì •ì˜í•œë‹¤.  
- ì„±ê³µ/ì‹¤íŒ¨ ì‘ë‹µì„ ëª…í™•íˆ êµ¬ë¶„í•˜ê³ , `success / data / error` êµ¬ì¡°ë¥¼ ëª¨ë“  ì„œë¹„ìŠ¤ì—ì„œ í†µì¼í•œë‹¤.  
- ê° ì–¸ì–´ë³„ë¡œ **í‘œì¤€ ì‘ë‹µ ë˜í¼(Wrapper)** ë¥¼ êµ¬í˜„í•˜ì—¬ Controller ë‹¨ì˜ ì¤‘ë³µ ë¡œì§ì„ ìµœì†Œí™”í•œë‹¤.  
- Swagger / OpenAPI ë¬¸ì„œí™” ì‹œ ì¼ê´€ëœ ìŠ¤í‚¤ë§ˆë¥¼ ìë™ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

> â€œì‘ë‹µ(Response)ì€ ë‹¨ìˆœ ë°ì´í„°ê°€ ì•„ë‹ˆë¼, ì‹œìŠ¤í…œ ì‹ ë¢°ì„±ê³¼ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì„ í‘œí˜„í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë‹¤.â€

###### ì‘ë‹µ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

| ì¼€ì´ìŠ¤         | ìš”ì²­               | ê¸°ëŒ€ ê²°ê³¼                     |
| ----------- | ---------------- | ------------------------- |
| ì •ìƒ ì¡°íšŒ       | `GET /users/1`   | success=true, data ì¡´ì¬     |
| ì˜ëª»ëœ ìš”ì²­      | `GET /users/abc` | success=false, status=400 |
| ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ | `GET /users/999` | success=false, status=404 |
| ì„œë²„ ì˜¤ë¥˜       | DB ì—°ê²° ì‹¤íŒ¨         | success=false, status=500 |

---

> ì‘ë‹µ í‘œí˜„ì˜ í‘œì¤€í™”ëŠ” ë‹¨ìˆœí•œ ê°œë°œ í¸ì˜ì„±ì„ ë„˜ì–´,
> ì„œë¹„ìŠ¤ í’ˆì§ˆÂ·ì‹ ë¢°ë„Â·API ìœ ì§€ë³´ìˆ˜ì„±ì˜ ê·¼ê°„ì´ ëœë‹¤.
>
> **FastAPI / Spring Boot / Express / NestJS** ëª¨ë‘
> ì´ êµ¬ì¡°(`success / data / error`)ë¥¼ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•¨ìœ¼ë¡œì¨
> í†µí•©ëœ ì‘ë‹µ ì²´ê³„, ìë™ ë¬¸ì„œí™”, ëª¨ë‹ˆí„°ë§, í…ŒìŠ¤íŠ¸ ìë™í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.

---

##### ì°¸ê³ ìë£Œ
- [RFC 7807 - Problem Details for HTTP APIs](https://datatracker.ietf.org/doc/html/rfc7807)
- [OpenAPI Specification](https://swagger.io/specification/)
- [FastAPI Response Model](https://fastapi.tiangolo.com/tutorial/response-model/)
- [Spring RESTful ResponseEntity](https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-responseentity.html)
- [NestJS Response Mapping](https://docs.nestjs.com/controllers#request-object)
- [Express Response API](https://expressjs.com/en/4x/api.html#res)

---

#### 1. ì‘ë‹µ êµ¬ì¡° ì„¤ê³„ ì›ì¹™

| í•­ëª© | ì„¤ëª… |
|------|------|
| **ì¼ê´€ì„± (Consistency)** | ëª¨ë“  APIëŠ” ë™ì¼í•œ í˜•íƒœì˜ JSON ì‘ë‹µì„ ë°˜í™˜í•´ì•¼ í•œë‹¤. |
| **ëª…í™•ì„± (Clarity)** | ì„±ê³µê³¼ ì‹¤íŒ¨ ì‘ë‹µì€ ëª…í™•íˆ êµ¬ë¶„ë˜ì–´ì•¼ í•œë‹¤. |
| **í‘œì¤€í™” (Standardization)** | RFC 7807 / HTTP ìƒíƒœ ì½”ë“œì™€ì˜ ì¼ê´€ì„± ìœ ì§€ |
| **í™•ì¥ì„± (Extensibility)** | ì¶”ê°€ ë©”íƒ€ë°ì´í„°(`meta`, `traceId`, `timestamp`) í™•ì¥ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. |

---

#### 2. í‘œì¤€ ì‘ë‹µ êµ¬ì¡°

#####  ê¸°ë³¸ êµ¬ì¡°

```json
{
  "success": true,
  "data": {},
  "error": null
}
```

| í•„ë“œ          | ì„¤ëª…                                   |
| ----------- | ------------------------------------ |
| **success** | ìš”ì²­ ì„±ê³µ ì—¬ë¶€ (Boolean)                   |
| **data**    | ì‹¤ì œ ì‘ë‹µ ë°ì´í„° (Object, Array, Primitive) |
| **error**   | ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ì •ë³´ (RFC7807 ê¸°ë°˜ JSON ê°ì²´)      |

##### í™•ì¥ êµ¬ì¡° (ì¶”ì²œ)

```json
{
  "success": true,
  "data": {},
  "meta": {
    "traceId": "abc123",
    "timestamp": "2025-10-25T13:00:00Z"
  },
  "error": null
}
```

> `meta` í•„ë“œëŠ” ìš”ì²­ ì¶”ì  ë° ì„±ëŠ¥ ì¸¡ì •(Log/Tracing)ê³¼ ì—°ë™ ê°€ëŠ¥
> (ì˜ˆ: OpenTelemetry, ELK, Grafana ë“±)

---

#### 3. ì„±ê³µ ì‘ë‹µ (Success Response)

##### ì˜ˆì‹œ: ë‹¨ì¼ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ

```json
{
  "success": true,
  "data": {
    "id": 1,
    "name": "Ingeun Jeong"
  },
  "error": null
}
```

##### ì˜ˆì‹œ: ëª©ë¡ ì¡°íšŒ

```json
{
  "success": true,
  "data": {
    "items": [
      { "id": 1, "name": "Alice" },
      { "id": 2, "name": "Bob" }
    ],
    "total": 2
  },
  "meta": {
    "page": 1,
    "limit": 10
  },
  "error": null
}
```

---

#### 4. ì‹¤íŒ¨ ì‘ë‹µ (Error Response)

> ì‹¤íŒ¨ ì‘ë‹µì€ `success: false`, `data: null`, `error` í•„ë“œì— RFC7807 ê¸°ë°˜ JSONì„ í¬í•¨í•œë‹¤.

```json
{
  "success": false,
  "data": null,
  "error": {
    "type": "https://api.example.com/errors/validation",
    "title": "Validation Error",
    "status": 400,
    "detail": "The field 'email' is required.",
    "instance": "/api/v1/users"
  }
}
```

---

#### 5. ì–¸ì–´ë³„ ì‘ë‹µ Wrapper ì˜ˆì‹œ

##### ğŸ FastAPI

```python
from pydantic import BaseModel
from typing import Optional, Any

class ApiResponse(BaseModel):
    success: bool
    data: Optional[Any] = None
    error: Optional[Any] = None

# ì‚¬ìš© ì˜ˆì‹œ
@app.get("/users/{id}", response_model=ApiResponse)
def get_user(id: int):
    user = {"id": id, "name": "Ingeun"}
    return ApiResponse(success=True, data=user)
```

---

##### â˜• Spring Boot

```java
@Getter
@AllArgsConstructor(staticName = "of")
public class ApiResponse<T> {
    private final boolean success;
    private final T data;
    private final Object error;

    public static <T> ApiResponse<T> success(T data) {
        return new ApiResponse<>(true, data, null);
    }

    public static <T> ApiResponse<T> failure(Object error) {
        return new ApiResponse<>(false, null, error);
    }
}
```

```java
@GetMapping("/{id}")
public ResponseEntity<ApiResponse<User>> getUser(@PathVariable Long id) {
    User user = userService.findById(id);
    return ResponseEntity.ok(ApiResponse.success(user));
}
```

---

##### ğŸŸ¦ Express

```javascript
const success = (data) => ({ success: true, data, error: null });
const failure = (err) => ({ success: false, data: null, error: err });

app.get("/users/:id", (req, res) => {
  const user = { id: req.params.id, name: "Ingeun" };
  res.json(success(user));
});
```

---

##### ğŸ§± NestJS

```typescript
export class ApiResponse<T> {
  constructor(
    public success: boolean,
    public data?: T,
    public error?: any,
  ) {}

  static ok<T>(data: T): ApiResponse<T> {
    return new ApiResponse(true, data);
  }

  static fail(error: any): ApiResponse<null> {
    return new ApiResponse(false, null, error);
  }
}
```

```typescript
@Get(':id')
async getUser(@Param('id') id: string) {
  const user = await this.userService.findById(+id);
  return ApiResponse.ok(user);
}
```

---

#### 6. ì‘ë‹µ íë¦„ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
flowchart LR
  A[Client] -->|HTTP Request| B[Controller]
  B --> C[Service]
  C --> D[Repository]
  D --> C -->|Result| B
  B -->|Success| A
  B -->|Failure| A
```

---

#### 7. ì‘ë‹µ ìƒíƒœ ì½”ë“œ ë§¤í•‘

| ìƒíƒœ ì½”ë“œ                         | ì˜ë¯¸             | ì˜ˆì‹œ ì‘ë‹µ                |
| ----------------------------- | -------------- | -------------------- |
| **200 OK**                    | ìš”ì²­ ì„±ê³µ          | `GET /users`         |
| **201 Created**               | ë¦¬ì†ŒìŠ¤ ìƒì„± ì™„ë£Œ      | `POST /users`        |
| **204 No Content**            | ì„±ê³µí–ˆì§€ë§Œ ì‘ë‹µ ë³¸ë¬¸ ì—†ìŒ | `DELETE /users/{id}` |
| **400 Bad Request**           | ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨      | ì˜ëª»ëœ í•„ë“œ ê°’             |
| **401 Unauthorized**          | ì¸ì¦ ì‹¤íŒ¨          | í† í° ëˆ„ë½/ë§Œë£Œ             |
| **403 Forbidden**             | ê¶Œí•œ ì—†ìŒ          | ì ‘ê·¼ ê¸ˆì§€                |
| **404 Not Found**             | ë¦¬ì†ŒìŠ¤ ì—†ìŒ         | ì˜ëª»ëœ ID               |
| **500 Internal Server Error** | ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜       | ì˜ˆì™¸ ë°œìƒ                |

---

#### 8. Swagger / OpenAPI í†µí•©

##### ì˜ˆì‹œ (NestJS)

```typescript
@ApiOkResponse({ schema: { example: { success: true, data: {}, error: null } } })
@ApiBadRequestResponse({ schema: { example: { success: false, data: null, error: { title: "Bad Request" } } } })
```

##### ì˜ˆì‹œ (Spring Boot)

```java
@Operation(summary = "Get User", responses = {
  @ApiResponse(responseCode = "200", description = "Success",
    content = @Content(schema = @Schema(implementation = ApiResponse.class))),
  @ApiResponse(responseCode = "400", description = "Bad Request")
})
```

---





