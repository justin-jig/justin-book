---
title: "Appendix â€” Node.js íŠœë‹, ì„±ëŠ¥ ìµœì í™”, ì°¸ê³ ìë£Œ"
date: 2025-10-24
---

#### ìš”ì•½
> AppendixëŠ” Node.js ì‹¤ë¬´ ê°œë°œìì™€ ìš´ì˜ìë¥¼ ìœ„í•œ **ìµœì í™”Â·íŠœë‹Â·ë ˆí¼ëŸ°ìŠ¤ ê°€ì´ë“œ**ì´ë‹¤.  
> ëŸ°íƒ€ì„ ë ˆë²¨ì˜ ì„±ëŠ¥ ê°œì„ , ì½”ë“œ ë ˆë²¨ì˜ ë³‘ëª© ì œê±°, ìš´ì˜ í™˜ê²½ íŠœë‹, ê·¸ë¦¬ê³  í•™ìŠµìš© ê³µì‹ ìë£Œë¥¼ ì •ë¦¬í•œë‹¤.

- ëŸ°íƒ€ì„ ì„±ëŠ¥ ê°œì„ : GC, Event Loop, Thread Pool íŠœë‹  
- ì½”ë“œ ìµœì í™”: async/await, ìºì‹œ, ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬  
- ìš´ì˜ í™˜ê²½ íŠœë‹: PM2, Nginx, Docker ìµœì í™”  
- í•™ìŠµ ë° ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•œ ê³µì‹ ì°¸ê³ ìë£Œ ë§í¬ í¬í•¨  

##### ì°¸ê³ ìë£Œ
- [Node.js Performance Best Practices](https://github.com/goldbergyoni/nodebestpractices)
- [V8 ê³µì‹ Docs](https://v8.dev/)
- [Node.js Diagnostics Guide](https://nodejs.org/en/docs/guides/diagnostics/)
- [Google Cloud Node Performance](https://cloud.google.com/nodejs/docs)

> **ìš”ì•½:**
>
> * ì„±ëŠ¥ì€ ì¸¡ì •(Metrics)ì—ì„œ ì¶œë°œí•˜ê³ ,
> * ë³´ì•ˆì€ ìŠµê´€(Security as Practice)ì´ë©°,
> * í’ˆì§ˆì€ ë¬¸ì„œí™”ë¡œ ì™„ì„±ëœë‹¤.
---

#### 1. ì„±ëŠ¥ ìµœì í™”ì˜ í•µì‹¬ ì›ì¹™

| ë²”ì£¼ | ëª©í‘œ | ë°©ë²• |
|------|------|------|
| **ì½”ë“œ ìˆ˜ì¤€** | ì‹¤í–‰ íš¨ìœ¨ ê·¹ëŒ€í™” | ë¹„ë™ê¸° ì²˜ë¦¬, ìºì‹œ, ìŠ¤íŠ¸ë¦¼ |
| **ëŸ°íƒ€ì„ ìˆ˜ì¤€** | ìì› í™œìš© ìµœì í™” | ì´ë²¤íŠ¸ ë£¨í”„, Thread Pool |
| **ìš´ì˜ ìˆ˜ì¤€** | ì„œë²„ íš¨ìœ¨ í–¥ìƒ | PM2, Cluster, Docker ì„¤ì • |

> ğŸ’¡ **í•µì‹¬ ì² í•™:**  
> â€œì¸¡ì •í•˜ì§€ ì•Šìœ¼ë©´ ìµœì í™”í•  ìˆ˜ ì—†ë‹¤.â€  
> ëª¨ë“  ìµœì í™”ëŠ” **Metrics ê¸°ë°˜**ìœ¼ë¡œ ìˆ˜í–‰ë˜ì–´ì•¼ í•œë‹¤.

---

#### 2. ì½”ë“œ ë ˆë²¨ ìµœì í™”

##### 1) ë¹„ë™ê¸° ì²˜ë¦¬ ê°œì„ 
```js
// ì˜ëª»ëœ ì˜ˆì‹œ: ë¶ˆí•„ìš”í•œ ìˆœì°¨ ì‹¤í–‰
await taskA();
await taskB();

// ê°œì„ ëœ ì˜ˆì‹œ: ë³‘ë ¬ ì²˜ë¦¬
await Promise.all([taskA(), taskB()]);
```

##### 2) ìºì‹œ(Cache) í™œìš©

```js
import NodeCache from 'node-cache';
const cache = new NodeCache({ stdTTL: 60 });

function getUser(id) {
  const cached = cache.get(id);
  if (cached) return cached;
  const user = db.findById(id);
  cache.set(id, user);
  return user;
}
```

##### 3) ìŠ¤íŠ¸ë¦¼(Stream) ê¸°ë°˜ íŒŒì¼ ì²˜ë¦¬

```js
import fs from 'fs';
fs.createReadStream('large.txt')
  .pipe(fs.createWriteStream('copy.txt'));
```

> **íš¨ê³¼:** ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ì§€ ì•Šê³  ì²˜ë¦¬ â†’ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì ˆê°

---

#### 3. ëŸ°íƒ€ì„ ë ˆë²¨ ìµœì í™”

##### 1) ì´ë²¤íŠ¸ ë£¨í”„ ë³‘ëª© ì ê²€

```bash
$ node --trace-events-enabled server.js
```

> `--trace-events` ì˜µì…˜ìœ¼ë¡œ ì´ë²¤íŠ¸ ë£¨í”„ ì§€ì—°(latency)ì„ ë¶„ì„í•  ìˆ˜ ìˆë‹¤.
> ë¹„ë™ê¸° ìš”ì²­ì´ íì— ëŒ€ê¸° ì¤‘ì´ë¼ë©´ PromiseÂ·I/O ì²˜ë¦¬ êµ¬ì¡°ë¥¼ ì¬ì ê²€í•´ì•¼ í•œë‹¤.

##### 2) Thread Pool í¬ê¸° ì¡°ì •

```bash
$ export UV_THREADPOOL_SIZE=8
```

> ê¸°ë³¸ Thread Poolì€ 4ê°œì´ë©°, I/O ì‘ì—…ì´ ë§ì€ ê²½ìš° í™•ì¥ ê°€ëŠ¥í•˜ë‹¤.
> ë‹¨, ê³¼ë„í•œ í™•ì¥ì€ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ìœ¼ë¡œ ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.

##### 3) Garbage Collection (GC) ë¡œê·¸ í™œì„±í™”

```bash
$ node --trace-gc app.js
```

> GC ë¡œê·¸ë¥¼ í†µí•´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜(Memory Leak) ì—¬ë¶€ë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆë‹¤.

---

#### 4. ìš´ì˜ í™˜ê²½ íŠœë‹

##### 1) PM2 ì„±ëŠ¥ ì˜µì…˜

```bash
$ pm2 start app.js -i max --max-memory-restart 500M
```

| ì˜µì…˜                     | ì„¤ëª…                  |
| ---------------------- | ------------------- |
| `-i max`               | CPU ì½”ì–´ ìˆ˜ë§Œí¼ ìë™ ë³‘ë ¬ ì‹¤í–‰ |
| `--max-memory-restart` | ë©”ëª¨ë¦¬ ì´ˆê³¼ ì‹œ ìë™ ì¬ì‹œì‘     |
| `--merge-logs`         | í´ëŸ¬ìŠ¤í„° ë¡œê·¸ ë³‘í•© ì¶œë ¥       |

##### 2) Docker ìµœì í™”

| í•­ëª©         | ê¶Œì¥ ì„¤ì •                             |
| ---------- | --------------------------------- |
| Base Image | `node:20-alpine` (ê²½ëŸ‰)             |
| ìºì‹œ ë ˆì´ì–´     | `npm ci` í›„ COPY                   |
| ëŸ°íƒ€ì„ ì‚¬ìš©ì    | `USER node`                       |
| ë¡œê·¸ ê´€ë¦¬      | `docker logs` â†’ ì¤‘ì•™ ë¡œê·¸ ìˆ˜ì§‘ ì‹œìŠ¤í…œìœ¼ë¡œ ì „ì†¡ |

##### 3) Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ íŠœë‹

```nginx
worker_processes auto;
worker_connections 4096;
keepalive_timeout 65;
client_max_body_size 10M;
```

> ë³‘ëª© êµ¬ê°„ì€ ëŒ€ë¶€ë¶„ I/Oì—ì„œ ë°œìƒí•œë‹¤.
> I/O ìµœì í™” â†’ ë„¤íŠ¸ì›Œí¬ ì»¤ë„¥ì…˜ íš¨ìœ¨ â†’ ì‘ë‹µì†ë„ í–¥ìƒ.

---

#### 5. í”„ë¡œíŒŒì¼ë§ ë° ì„±ëŠ¥ ì¸¡ì • ë„êµ¬

| ë„êµ¬               | ìš©ë„            | ì„¤ëª…                 |
| ---------------- | ------------- | ------------------ |
| `clinic.js`      | ì„±ëŠ¥ ë³‘ëª© ì‹œê°í™”     | CPU, I/O, GC íŠ¸ë ˆì´ì‹±  |
| `0x`             | Flamegraph ìƒì„± | í•¨ìˆ˜ ì‹¤í–‰ íˆíŠ¸ë§µ          |
| `autocannon`     | ë¶€í•˜ í…ŒìŠ¤íŠ¸        | RPS, ì‘ë‹µì†ë„ ì¸¡ì •       |
| `node --inspect` | ëŸ°íƒ€ì„ ë””ë²„ê¹…       | Chrome DevTools ì—°ë™ |

##### ì˜ˆì‹œ: ë¶€í•˜ í…ŒìŠ¤íŠ¸

```bash
$ npx autocannon -c 100 -d 30 http://localhost:3000
```

> ê²°ê³¼ë¡œ RPS, í‰ê·  ì‘ë‹µì‹œê°„, ì˜¤ë¥˜ìœ¨ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

---

#### 6. ë©”ëª¨ë¦¬ ìµœì í™” ì „ëµ

| ì „ëµ                       | ì„¤ëª…               |
| ------------------------ | ---------------- |
| **Lazy Loading**         | í•„ìš”í•œ ì‹œì ì—ë§Œ ëª¨ë“ˆ ë¡œë“œ   |
| **Cache Invalidation**   | TTL ê¸°ë°˜ ìºì‹œ ë§Œë£Œ ì²˜ë¦¬  |
| **Stream ì²˜ë¦¬**            | ëŒ€ìš©ëŸ‰ íŒŒì¼ ë©”ëª¨ë¦¬ ë¡œë“œ ë°©ì§€ |
| **WeakMap / WeakRef í™œìš©** | ìë™ GC ìˆ˜ê±° ëŒ€ìƒ ì§€ì •   |

> ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ëŠ” ëŒ€ë¶€ë¶„ **ë¹„ë™ê¸° í´ë¡œì € ë‚´ë¶€ ë³€ìˆ˜ ì°¸ì¡°**ë¡œ ë°œìƒí•œë‹¤.
> Chrome DevTools â†’ Memory íƒ­ì—ì„œ ìŠ¤ëƒ…ìƒ· ë¹„êµë¡œ ì¶”ì  ê°€ëŠ¥í•˜ë‹¤.

---

#### 7. ì½”ë“œ í’ˆì§ˆ ë° í…ŒìŠ¤íŠ¸ ì „ëµ

##### 1) ESLint + Prettier ì„¤ì •

```bash
$ npm install --save-dev eslint prettier eslint-config-prettier eslint-plugin-import
$ npx eslint --init
```

##### 2) Jest í…ŒìŠ¤íŠ¸ í™˜ê²½

```bash
$ npm install --save-dev jest ts-jest @types/jest
$ npx jest
```

##### 3) í…ŒìŠ¤íŠ¸ êµ¬ì¡°

```
src/
 â”œâ”€â”€ services/
 â”‚    â””â”€â”€ userService.ts
 â””â”€â”€ __tests__/
      â””â”€â”€ userService.test.ts
```

> ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test) + í†µí•© í…ŒìŠ¤íŠ¸(Integration Test)ë¥¼ ë³‘í–‰í•´ì•¼
> ë°°í¬ ì „ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ ë³´ì¦í•  ìˆ˜ ìˆë‹¤.

---

#### 8. ìš´ì˜ ë¡œê·¸ ë° ì•Œë¦¼ ì—°ë™

##### Slack Alert ì˜ˆì‹œ

```js
import axios from 'axios';
const SLACK_WEBHOOK = process.env.SLACK_WEBHOOK;

function notifySlack(message) {
  axios.post(SLACK_WEBHOOK, { text: `ğŸš¨ ${message}` });
}
```

> ì¥ì•  ê°ì§€ â†’ Slack ì „ì†¡ â†’ ì¦‰ì‹œ ëŒ€ì‘ ì²´ê³„ë¥¼ ìë™í™”í•œë‹¤.
> PM2, Prometheus Alertmanager, Grafana Notificationê³¼ ì—°ë™ ê°€ëŠ¥.

---

#### 9. ìœ ì§€ë³´ìˆ˜ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

| í•­ëª©               | ê¶Œì¥ ê¸°ì¤€                |
| ---------------- | -------------------- |
| **Node.js ë²„ì „**   | LTS ìœ ì§€ (`node:20.x`) |
| **Dependencies** | `npm audit` ë§¤ì£¼ ìˆ˜í–‰    |
| **ë¡œê·¸ ì •ì±…**        | JSON í¬ë§· + ì¤‘ì•™ ìˆ˜ì§‘      |
| **CI/CD**        | í…ŒìŠ¤íŠ¸ ìë™í™” í›„ ë°°í¬         |
| **ì½”ë“œ ë¦¬ë·°**        | Pull Request ê¸°ë°˜ ë³‘í•©   |
| **ë³´ì•ˆ ì ê²€**        | OWASP Top 10 ì •ê¸° ì ê²€   |
| **ë¬¸ì„œí™”**          | GitBook ê¸°ë°˜ ê¸°ìˆ  ë¬¸ì„œ ìœ ì§€  |

> â€œìš´ì˜ ê°€ëŠ¥í•œ ì½”ë“œâ€ëŠ” ë‹¨ìˆœíˆ ë™ì‘í•˜ëŠ” ì½”ë“œë³´ë‹¤ ì¤‘ìš”í•˜ë‹¤.
> ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ êµ¬ì¡°ì™€ ì¼ê´€ëœ ë¬¸ì„œí™”ê°€ ì¥ê¸°ì ì¸ í’ˆì§ˆì„ ë³´ì¥í•œë‹¤.

---

#### 10. ì£¼ìš” ê³µì‹ ë ˆí¼ëŸ°ìŠ¤

| ë¶„ë¥˜              | ë§í¬                                                                               |
| --------------- | -------------------------------------------------------------------------------- |
| Node.js ê³µì‹ ë¬¸ì„œ   | [https://nodejs.org/en/docs](https://nodejs.org/en/docs)                         |
| npm Docs        | [https://docs.npmjs.com/](https://docs.npmjs.com/)                               |
| TypeScript Docs | [https://www.typescriptlang.org/docs/](https://www.typescriptlang.org/docs/)     |
| Express Docs    | [https://expressjs.com/](https://expressjs.com/)                                 |
| Fastify Docs    | [https://fastify.dev/](https://fastify.dev/)                                     |
| Prisma Docs     | [https://www.prisma.io/docs](https://www.prisma.io/docs)                         |
| PM2 Docs        | [https://pm2.keymetrics.io/](https://pm2.keymetrics.io/)                         |
| Docker Docs     | [https://docs.docker.com/](https://docs.docker.com/)                             |
| OWASP Top 10    | [https://owasp.org/www-project-top-ten/](https://owasp.org/www-project-top-ten/) |

---

#### 11. ê²°ë¡ 
Node.jsëŠ” ë‹¨ì¼ ëŸ°íƒ€ì„ì´ì§€ë§Œ,
CI/CD, ëª¨ë‹ˆí„°ë§, ë³´ì•ˆ, ë¬¸ì„œí™”ê°€ í•¨ê»˜ êµ¬ì„±ë  ë•Œ
ë¹„ë¡œì†Œ â€œìš´ì˜ ê°€ëŠ¥í•œ í”Œë«í¼â€ì´ ëœë‹¤.

