---
title: "React v18 ì •ë¦¬"
date: 2025-10-16
---

## React 18 ì£¼ìš” ë³€ê²½ì‚¬í•­ ì •ë¦¬ 

####  ìš”ì•½ í‘œ

| ë²”ì£¼         | ì£¼ìš” ë³€ê²½ì                                      | ê´€ë ¨ API / íŠ¹ì§•              |
| ---------- | ------------------------------------------ | ------------------------ |
| ë Œë”ë§        | **Concurrent Rendering**                   | interruptible render     |
| ì„±ëŠ¥         | **Automatic Batching**                     | fewer re-renders         |
| ì„œë²„         | **Streaming SSR, Selective Hydration**     | `renderToPipeableStream` |
| ì‹ ê·œ í›…       | **useId, useTransition, useDeferredValue** | Suspenseì™€ ì—°ê³„             |
| DOM API    | `createRoot`, `hydrateRoot`                | ê¸°ì¡´ render ì œê±°             |
| StrictMode | ë§ˆìš´íŠ¸ 2íšŒ ì‹¤í–‰                                  | side effect ê²€ì¦           |

---


### 1ï¸âƒ£ Automatic Batching (ìžë™ ë°°ì¹­)

* React 18 ì´ì „: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ì—ì„œë§Œ ë°°ì¹­ (ì˜ˆ: `onClick`, `onChange`)
* React 18 ì´í›„: **Promise, setTimeout, native event ë“± ë¹„ë™ê¸° ì»¨í…ìŠ¤íŠ¸ì—ì„œë„ ìžë™ ë°°ì¹­ ì ìš©**
* `ReactDOM.flushSync()`ë¥¼ ì‚¬ìš©í•˜ë©´ ë°°ì¹­ì„ **ê°•ì œë¡œ í•´ì œ ê°€ëŠ¥**

```js
flushSync(() => setCount(c => c + 1)); // ì¦‰ì‹œ ë Œë”ë§
```
---

### 2ï¸âƒ£ Concurrent Rendering (ë™ì‹œì„± ë Œë”ë§)

> ðŸ”¹ React 18ì˜ â€œí•µì‹¬ ê°œë…â€

* ReactëŠ” ì´ì œ **Concurrent Mode**ë¥¼ **ê¸°ë³¸ í¬í•¨**í•¨ (ë³„ë„ì˜ ëª¨ë“œ ìŠ¤ìœ„ì¹˜ ì—†ì´)
* ì´ì „ì—ëŠ” â€œblocking renderâ€ ë°©ì‹ â†’ ì´ì œëŠ” â€œinterruptible renderingâ€
* Reactê°€ â€œUI ì—…ë°ì´íŠ¸ ìš°ì„ ìˆœìœ„â€ë¥¼ ìŠ¤ìŠ¤ë¡œ ì¡°ì ˆ ê°€ëŠ¥
  (ì˜ˆ: ê¸´ ë Œë” ì¤‘ê°„ì— ìœ ì € ìž…ë ¥ ì´ë²¤íŠ¸ê°€ ì˜¤ë©´ ê·¸ê±¸ ë¨¼ì € ì²˜ë¦¬í•¨)

ðŸ“˜ ê´€ë ¨ API:

* `startTransition()`, `useTransition()` : ë‚®ì€ ìš°ì„ ìˆœìœ„ ì—…ë°ì´íŠ¸ ì²˜ë¦¬
* `useDeferredValue()` : ë¹„ë™ê¸° ë°ì´í„° ì§€ì—° ì²˜ë¦¬
* `useSyncExternalStore()` : ì™¸ë¶€ ìƒíƒœì™€ ë™ê¸°í™”

---

### 3ï¸âƒ£ Suspense on the Server (ì„œë²„ ì‚¬ì´ë“œ ìŠ¤íŠ¸ë¦¬ë°)

>  React 18ì—ì„œ **Streaming SSR**ê³¼ **Selective Hydration**ì´ ë„ìž…

#### ðŸ“¦ ì£¼ìš” ë³€í™”

* **Streaming HTML**: ë°ì´í„° ì¤€ë¹„ëœ ì»´í¬ë„ŒíŠ¸ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì „ì†¡
* **Selective Hydration**: JS ë¡œë”©ì´ ëë‚œ ì»´í¬ë„ŒíŠ¸ë¶€í„° ì ì§„ì ìœ¼ë¡œ í™œì„±í™”
* React DOM ì„œë²„ API ë³€ê²½:

  ```js
  import { renderToPipeableStream } from 'react-dom/server';
  ```

  (ê¸°ì¡´ `renderToString`ë³´ë‹¤ ìŠ¤íŠ¸ë¦¬ë° ê¸°ë°˜)

---

### 4ï¸âƒ£ ìƒˆë¡œìš´ Hooks / API

| API                      | ì„¤ëª…                                      |
| ------------------------ | --------------------------------------- |
| **startTransition**      | ê¸´ ë Œë”ë§ ìž‘ì—…ì„ ë‚®ì€ ìš°ì„ ìˆœìœ„ë¡œ ì‹¤í–‰                   |
| **useTransition**        | ë¹„ë™ê¸° ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ íŠ¸ë¦¬ê±°í•˜ê³  ë¡œë”© ìƒíƒœ ê´€ë¦¬             |
| **useDeferredValue**     | ìž…ë ¥ ê°’ ì—…ë°ì´íŠ¸ë¥¼ ì§€ì—°ì‹œì¼œ ë Œë” ì„±ëŠ¥ í–¥ìƒ                |
| **useId**                | ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ì¼ê´€ëœ ê³ ìœ  ID ìƒì„± (Hydration ì˜¤ë¥˜ ë°©ì§€) |
| **useSyncExternalStore** | ì™¸ë¶€ storeì™€ ì•ˆì „í•˜ê²Œ ë™ê¸°í™” (ì˜ˆ: Redux, Zustand)  |
| **useInsertionEffect**   | CSS-in-JS ë¼ì´ë¸ŒëŸ¬ë¦¬ìš© ìƒˆë¡œìš´ í›… (ë Œë” ì „ DOM ì‚½ìž…ìš©)   |

---

### 5ï¸âƒ£ React DOM API ë³€ê²½

| ê¸°ì¡´                      | ë³€ê²½ í›„                  |
| ----------------------- | --------------------- |
| `ReactDOM.render()`     | âŒ ì œê±°ë¨                 |
| `ReactDOM.createRoot()` | âœ… ì‹ ê·œ ë„ìž…               |
| `ReactDOM.hydrate()`    | â†’ `hydrateRoot()`ë¡œ ë³€ê²½ |

---

### 6ï¸âƒ£ Strict Mode ê°œì„ 

* React 18ì˜ `StrictMode`ëŠ” **ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸/ì–¸ë§ˆìš´íŠ¸ë¥¼ 2ë²ˆ ìˆ˜í–‰**
* ì´ìœ : â€œside-effect ì—†ëŠ” ì»´í¬ë„ŒíŠ¸â€ ê²€ì¦ (Concurrent Render ëŒ€ì‘)

---

### 7ï¸âƒ£ ê¸°íƒ€: Transition + Suspense í†µí•©

* Suspenseì™€ `startTransition()` ì¡°í•©ìœ¼ë¡œ
  â€œë¡œë”© ì¤‘ UIâ€ì™€ â€œì™„ë£Œ í›„ UIâ€ë¥¼ ìžì—°ìŠ¤ëŸ½ê²Œ ì „í™˜ ê°€ëŠ¥.

```js
const [isPending, startTransition] = useTransition();

function handleInputChange(e) {
  startTransition(() => setQuery(e.target.value));
}
```

---