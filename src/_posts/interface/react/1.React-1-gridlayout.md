---
title: "React 라이브러리 gridlayout"
date: 2025-10-17
---

# 대시보드 그래프 Grid-Layout

## 📘 개요

대시보드 내 그래프·위젯들을 **사용자 친화적**으로 배치하기 위해
**마우스 드래그, 드롭 및 위치 변경이 가능한 Grid-Layout 기능**을 연구하였다.

이를 통해 사용자는 원하는 위치로 그래프를 자유롭게 이동하거나 크기를 조정할 수 있으며,
화면 크기에 따라 자동으로 반응형 재배치가 가능하다.

---

## ⚙️ 사용 라이브러리 및 버전

* **라이브러리**: [React-Grid-Layout](https://github.com/react-grid-layout/react-grid-layout)
* **버전**: 1.4.4
* **주요 특징**

  * 드래그 & 드롭(Drag and Drop)
  * 반응형 레이아웃(Breakpoint Responsive)
  * Static 고정 항목 지원
  * 그리드 크기 및 위치 계산 자동화

---

## 🧩 Grid Layout 구조 및 속성

| 항목         | 설명                        |
| ---------- | ------------------------- |
| **x**      | 항목의 가로축 시작 위치 (column 단위) |
| **y**      | 항목의 세로축 시작 위치 (row 단위)    |
| **w**      | 항목의 가로 길이 (열 수 단위)        |
| **h**      | 항목의 세로 길이 (행 수 단위)        |
| **i**      | 각 항목의 고유 ID               |
| **static** | 고정 여부 (`true` 이면 이동 불가)   |

---

## 🧱 그리드 항목 크기 계산

1. **항목 너비**

   * 전체 컨테이너 폭 / 열(column) 수로 자동 계산
   * 마진에 따라 실질 너비 변동

2. **항목 높이**

   * 기본 단위: `rowHeight`
   * 실제 높이 계산식

     ```
     실제 높이 = (rowHeight × h) + (marginH × (h − 1))
     ```
   * 기본 마진값 예시

     ```ts
     margin: [10, 10] // [가로, 세로]
     ```
   * `props`로 전달하여 수정 가능

---

## 📱 반응형 Breakpoints 기본값

| 구분      | 크기 조건     |
| ------- | --------- |
| **xs**  | < 480 px  |
| **sm**  | ≥ 576 px  |
| **md**  | ≥ 768 px  |
| **lg**  | ≥ 992 px  |
| **xl**  | ≥ 1200 px |
| **xxl** | ≥ 1400 px |

화면 크기에 따라 그리드 항목의 배치와 크기가 자동으로 조정되어,
데스크탑 – 태블릿 – 모바일 환경 모두에서 적절한 레이아웃을 유지한다.

---

## 🔄 이벤트 콜백 함수

| 함수명                | 설명                            | 예시 코드                                                                 |
| ------------------ | ----------------------------- | --------------------------------------------------------------------- |
| **onLayoutChange** | 사용자가 그리드 위치 또는 크기를 변경할 때마다 호출 | `ts onLayoutChange = (layout: Layout[]) => { console.log(layout); } ` |

* 변경된 `layout` 정보를 서버에 저장하여 사용자 맞춤 레이아웃으로 복원 가능
* 드래그 및 리사이즈 이벤트에 모두 반응

---

## 🖼️ 결과 화면 예시 설명

* 각 그래프 카드 위젯은 **드래그로 위치 변경** 및 **크기 조절** 가능
* **반응형 뷰포트** 환경에서 열 수 자동 조정 (예: `lg: 4열 → sm: 2열 → xs: 1열`)
* **사용자 수정 레이아웃 즉시 저장** → 다음 접속 시 동일한 위치로 복원
* 일부 핵심 그래프 항목은 `static: true` 로 고정 (이동 불가)

---


