---
title: "javasciprt async"
date: 2025-10-17
---

#### ìš”ì•½í‘œ

| êµ¬ë¶„              | í‚¤ì›Œë“œ                  | ë°˜í™˜ê°’             | íŠ¹ì§•               | ì£¼ìš” ëª©ì          |
| --------------- | -------------------- | --------------- | ---------------- | ------------- |
| **Promise**     | `new Promise`        | Promise         | ìƒíƒœ ê¸°ë°˜ ë¹„ë™ê¸° ì œì–´     | ë¹„ë™ê¸° ê²°ê³¼ ê´€ë¦¬     |
| **Iterator**    | `Symbol.iterator`    | `{value, done}` | ë°˜ë³µ ìƒíƒœ ì œì–´         | ìˆœíšŒ êµ¬ì¡° í†µí•©      |
| **Generator**   | `function*`, `yield` | Iterator        | ì‹¤í–‰ ì¤‘ë‹¨Â·ì¬ê°œ ê°€ëŠ¥      | ì§€ì—° í‰ê°€, ì»¤ìŠ¤í…€ ë°˜ë³µ |
| **Async/Await** | `async`, `await`     | Promise         | Promise ê¸°ë°˜ ë™ê¸° í‘œí˜„ | ê°€ë…ì„± ì¢‹ì€ ë¹„ë™ê¸° ì²˜ë¦¬ |



## í”Œë¡œìš°

<div style="text-align: center;">

```mermaid
%%{init: {
  "theme": "default",
  "flowchart": {
    "htmlLabels": true,
    "curve": "basis",
    "nodeSpacing": 20,
    "rankSpacing": 40,
    "padding": 2
  }
}}%%
flowchart TD
  A["ğŸ§© ë™ê¸° ì½”ë“œ ì‹¤í–‰<br/>(Call Stack)"]
  B{"ğŸ§­ Stack ë¹„ì—ˆë‚˜?"}
  C["ğŸŒ€ Microtask í ë¹„ìš°ê¸°<br/>(Promise.then, queueMicrotask...)"]
  D{"ğŸ¨ ë Œë” í•„ìš”?"}
  E["ğŸ–¥ï¸ ë Œë”ë§<br/>(ë ˆì´ì•„ì›ƒÂ·í˜ì¸íŠ¸)"]
  F["ğŸï¸ requestAnimationFrame<br/>ì½œë°± ì‹¤í–‰"]
  G["â° Macrotask ì‹¤í–‰<br/>(setTimeout ë“±)"]

  A --> B
  B -- "ì•„ë‹ˆì˜¤" --> A
  B -- "ì˜ˆ" --> C
  C --> D
  D -- "ì˜ˆ" --> E
  D -- "ì•„ë‹ˆì˜¤" --> F
  E --> F
  F --> G
  G --> B

 ```
 </div>

# ğŸ“˜ JavaScript ë¹„ë™ê¸°ì™€ ë°˜ë³µ êµ¬ì¡° ì •ë¦¬

## 1. Promise

### ê°œë…

PromiseëŠ” **ë¹„ë™ê¸° ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ë‹¤ë£¨ëŠ” ê°ì²´**ì´ë‹¤.
ì•„ì§ ì™„ë£Œë˜ì§€ ì•Šì€ ì‘ì—…ì´ ë¯¸ë˜ì— ì™„ë£Œë˜ë©´ ê·¸ ê²°ê³¼ê°’ì„ ë°˜í™˜í•˜ê±°ë‚˜, ì‹¤íŒ¨í•˜ë©´ ì˜¤ë¥˜ë¥¼ ì „ë‹¬í•œë‹¤.
ì„¸ ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§„ë‹¤.

| ìƒíƒœ            | ì˜ë¯¸              |
| ------------- | --------------- |
| **pending**   | ìˆ˜í–‰ ì¤‘            |
| **fulfilled** | ì„±ê³µ (resolve í˜¸ì¶œ) |
| **rejected**  | ì‹¤íŒ¨ (reject í˜¸ì¶œ)  |

### ì‚¬ìš© ì›ë¦¬

PromiseëŠ” **ì½œë°± ì§€ì˜¥(callback hell)** ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë“±ì¥í–ˆë‹¤.
ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ë©´ `.then()` ë˜ëŠ” `.catch()`ë¡œ ê²°ê³¼ë¥¼ ë°›ëŠ”ë‹¤.
Promise ì²´ì´ë‹ìœ¼ë¡œ ì—¬ëŸ¬ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆœì„œëŒ€ë¡œ ì—°ê²°í•  ìˆ˜ ìˆë‹¤.

```js
const promise = new Promise((resolve, reject) => {
  const success = true;
  if (success) resolve("ì„±ê³µ");
  else reject("ì‹¤íŒ¨");
});

promise
  .then(result => console.log(result))   // "ì„±ê³µ"
  .catch(error => console.error(error))  // ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬
  .finally(() => console.log("ë"));
```

### ìš”ì•½

* ë¹„ë™ê¸° ì‘ì—…ì„ ê°ì²´í™”í•´ì„œ ê´€ë¦¬í•œë‹¤.
* ì½œë°±ë³´ë‹¤ ê°€ë…ì„±ì´ ì¢‹ë‹¤.
* `.then`, `.catch`, `.finally`ë¡œ íë¦„ ì œì–´ê°€ ê°€ëŠ¥í•˜ë‹¤.

---

## 2. ì´í„°ë ˆì´ì…˜ (Iteration)

### ê°œë…

ì´í„°ë ˆì´ì…˜ì€ **ë°˜ë³µ ê°€ëŠ¥í•œ êµ¬ì¡°**ë¥¼ ëœ»í•œë‹¤.
ë°°ì—´, ë¬¸ìì—´, Map, Set ë“±ì´ ëª¨ë‘ **ì´í„°ëŸ¬ë¸”(iterable)**ì´ë‹¤.
ì´í„°ëŸ¬ë¸”ì€ ë‚´ë¶€ì ìœ¼ë¡œ `Symbol.iterator`ë¥¼ êµ¬í˜„í•œ ê°ì²´ì´ë‹¤.

### ë™ì‘ ì›ë¦¬

ì´í„°ëŸ¬ë¸” ê°ì²´ëŠ” `for...of` êµ¬ë¬¸ì´ë‚˜ ì „ê°œ ì—°ì‚°ì(`...`)ë¡œ ë°˜ë³µí•  ìˆ˜ ìˆë‹¤.
ë°˜ë³µ ì‹œ ë‚´ë¶€ì ìœ¼ë¡œ `iterator.next()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ê°’ì„ ìˆœì°¨ì ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.

```js
const arr = [10, 20, 30];
for (const num of arr) {
  console.log(num);
}
```

`arr[Symbol.iterator]()`ëŠ” ì´í„°ë ˆì´í„°(iterator)ë¥¼ ë°˜í™˜í•˜ë©°, ì´ ì´í„°ë ˆì´í„°ëŠ” `{ value, done }` ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” `next()` ë©”ì„œë“œë¥¼ ê°€ì§„ë‹¤.

```js
const iterator = arr[Symbol.iterator]();
console.log(iterator.next()); // { value: 10, done: false }
```

### ìš”ì•½

* **ì´í„°ëŸ¬ë¸”(iterable)**: ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´
* **ì´í„°ë ˆì´í„°(iterator)**: ìˆœíšŒ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´
* `Symbol.iterator`ê°€ í•µì‹¬ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.

---

## 3. ì œë„ˆë ˆì´í„° (Generator)

### ê°œë…

ì œë„ˆë ˆì´í„°ëŠ” **í•¨ìˆ˜ ì‹¤í–‰ì„ ì¤‘ë‹¨í•˜ê³  ì¬ê°œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜**ì´ë‹¤.
`function*` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©°, `yield`ë¡œ ê°’ì„ í•˜ë‚˜ì”© ë°˜í™˜í•œë‹¤.

```js
function* gen() {
  yield 1;
  yield 2;
  yield 3;
}
const g = gen();
console.log(g.next()); // { value: 1, done: false }
console.log(g.next()); // { value: 2, done: false }
```

### ë™ì‘ ì›ë¦¬

ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í˜¸ì¶œ ì‹œ ì¦‰ì‹œ ì‹¤í–‰ë˜ì§€ ì•Šê³ , **ì´í„°ë ˆì´í„° ê°ì²´**ë¥¼ ë°˜í™˜í•œë‹¤.
`next()`ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ `yield`ë¥¼ ë§Œë‚  ë•Œê¹Œì§€ ì‹¤í–‰ë˜ê³  ë©ˆì¶˜ë‹¤.
í•„ìš”í•œ ì‹œì ì— ê°’ì„ í•˜ë‚˜ì”© ê³„ì‚°í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— **ì§€ì—° í‰ê°€(lazy evaluation)** ê°€ ê°€ëŠ¥í•˜ë‹¤.

### `yield`ë¥¼ í†µí•œ ê°’ ì£¼ê³ ë°›ê¸°

`yield`ëŠ” ë‹¨ìˆœíˆ ê°’ì„ ë‚´ë³´ë‚´ëŠ” ì—­í• ë¿ ì•„ë‹ˆë¼, ì™¸ë¶€ì—ì„œ ê°’ì„ ë‹¤ì‹œ ë°›ì•„ì˜¬ ìˆ˜ë„ ìˆë‹¤.

```js
function* counter() {
  let count = 0;
  while (true) {
    const reset = yield count++;
    if (reset) count = 0;
  }
}
const c = counter();
console.log(c.next().value);  // 0
console.log(c.next().value);  // 1
console.log(c.next(true).value); // 0 (reset)
```

### ìš”ì•½

* ì‹¤í–‰ ì¤‘ë‹¨ê³¼ ì¬ê°œê°€ ê°€ëŠ¥í•œ í•¨ìˆ˜ì´ë‹¤.
* ì´í„°ë ˆì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.
* ë¹„ë™ê¸° ì œì–´ íë¦„ê³¼ ê¶í•©ì´ ì¢‹ë‹¤.

---

## 4. Async / Await

### ê°œë…

`async`ì™€ `await`ëŠ” **Promise ê¸°ë°˜ ë¹„ë™ê¸° ì½”ë“œë¥¼ ë™ê¸°ì²˜ëŸ¼ ì‘ì„±**í•˜ê²Œ í•´ì¤€ë‹¤.
`async` í•¨ìˆ˜ëŠ” í•­ìƒ **Promiseë¥¼ ë°˜í™˜**í•˜ë©°, ë‚´ë¶€ì—ì„œ `await`ë¥¼ ì‚¬ìš©í•´ ë¹„ë™ê¸° ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦´ ìˆ˜ ìˆë‹¤.

```js
async function fetchData() {
  const res = await fetch("https://jsonplaceholder.typicode.com/todos/1");
  const data = await res.json();
  console.log(data);
}
fetchData();
```

### ë™ì‘ ì›ë¦¬

1. `async` í•¨ìˆ˜ëŠ” ìë™ìœ¼ë¡œ Promiseë¥¼ ë°˜í™˜í•œë‹¤.
2. `await`ëŠ” Promiseê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ë‹¨í•œë‹¤.
3. ì™„ë£Œë˜ë©´ ê·¸ ê²°ê³¼ê°’ì„ ë°˜í™˜í•œë‹¤.
4. ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ `try...catch`ë¡œ ì²˜ë¦¬í•œë‹¤.

```js
async function test() {
  try {
    const data = await Promise.resolve("ì„±ê³µ");
    console.log(data);
  } catch (err) {
    console.error(err);
  } finally {
    console.log("ë");
  }
}
test();
```

### ìš”ì•½

* `async` í•¨ìˆ˜ëŠ” Promiseë¥¼ ë°˜í™˜í•œë‹¤.
* `await`ëŠ” Promiseê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
* ì½”ë“œ íë¦„ì´ ë™ê¸°ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ë‚´ë¶€ì ìœ¼ë¡œëŠ” ë¹„ë™ê¸°ì´ë‹¤.

---

## 5. ì œë„ˆë ˆì´í„° vs Async í•¨ìˆ˜

| êµ¬ë¶„    | ì œë„ˆë ˆì´í„°                | Async í•¨ìˆ˜                          |
| ----- | -------------------- | --------------------------------- |
| ë°˜í™˜ê°’   | ì´í„°ë ˆì´í„°                | Promise                           |
| ì¤‘ë‹¨/ì¬ê°œ | ê°€ëŠ¥ (`yield`)         | ë¶ˆê°€ (`await`ëŠ” ì¼ì‹œ ì¤‘ë‹¨)               |
| ì‹¤í–‰ ë°©ì‹ | ìˆ˜ë™ (`next()` í˜¸ì¶œ í•„ìš”)  | ìë™ (`await`ë¡œ ì¤‘ë‹¨, Promise ì™„ë£Œ ì‹œ ì¬ê°œ) |
| ì£¼ ì‚¬ìš©ì²˜ | ë°˜ë³µ ì²˜ë¦¬, ë°ì´í„° ìŠ¤íŠ¸ë¦¼       | ë¹„ë™ê¸° ë¡œì§ ì œì–´                         |
| í‘œí˜„ ë°©ì‹ | `function*`, `yield` | `async`, `await`                  |

---

## 6. ë™ì‘ í”Œë¡œìš° ìš”ì•½

```mermaid
flowchart TD
    A[Promise ìƒì„±] --> B[ë¹„ë™ê¸° ì‘ì—… ì‹¤í–‰]
    B --> C{ì„±ê³µ/ì‹¤íŒ¨?}
    C -->|resolve| D[fulfilled â†’ then() ì‹¤í–‰]
    C -->|reject| E[rejected â†’ catch() ì‹¤í–‰]
    D --> F[finally() í˜¸ì¶œ í›„ ì¢…ë£Œ]
    E --> F

    subgraph "Async/Await íë¦„"
        G[async í•¨ìˆ˜ í˜¸ì¶œ] --> H[await Promise ëŒ€ê¸°]
        H --> I[Promise resolve ì‹œ ë‹¤ìŒ ì½”ë“œ ì‹¤í–‰]
        I --> J[try/catchë¡œ ì˜ˆì™¸ ì²˜ë¦¬]
    end
```

---
