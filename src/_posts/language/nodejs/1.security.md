---
title: "Node.js ë³´ì•ˆ ì „ëµ â€” ì•”í˜¸í™”, HTTPS, í™˜ê²½ ë³€ìˆ˜, ì·¨ì•½ì  ëŒ€ì‘"
date: 2025-10-24
---

#### ìš”ì•½
> Node.jsëŠ” ê²½ëŸ‰ ëŸ°íƒ€ì„ íŠ¹ì„±ìƒ ë³´ì•ˆ ì„¤ì •ì´ í•„ìˆ˜ì ì´ë‹¤.  
> ì• í”Œë¦¬ì¼€ì´ì…˜ ìˆ˜ì¤€ì—ì„œëŠ” `crypto`, `bcrypt`, `helmet` ë“±ì„ í™œìš©í•˜ì—¬ ë°ì´í„°Â·í†µì‹ Â·êµ¬ì„± ì •ë³´ë¥¼ ë³´í˜¸í•´ì•¼ í•˜ë©°,  
> ìš´ì˜ ìˆ˜ì¤€ì—ì„œëŠ” HTTPS, í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬, ì˜ì¡´ì„± ì·¨ì•½ì  ì ê²€ì„ í•¨ê»˜ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.

- ë°ì´í„° ë³´ì•ˆ: **ì•”í˜¸í™”(Hash, Salt, bcrypt)**
- í†µì‹  ë³´ì•ˆ: **HTTPS, TLS ì¸ì¦ì„œ**
- ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ: **Helmet, Rate Limiter, CORS**
- í™˜ê²½ ë³´ì•ˆ: **dotenv, npm audit, Dependency ê´€ë¦¬**
- 
> **ìš”ì•½:**
>
> * â€œì•”í˜¸í™”(ë°ì´í„° ë³´í˜¸)â€ + â€œë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ(HTTPS)â€ + â€œêµ¬ì„± ë³´ì•ˆ(.env)â€
> * ë³´ì•ˆì€ ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ **ìš´ì˜ ì›ì¹™(Security as a Practice)** ì´ë‹¤.


##### ì°¸ê³ ìë£Œ
- [Node.js Security Guide](https://nodejs.org/en/docs/guides/security/)
- [OWASP NodeGoat Project](https://owasp.org/www-project-nodegoat/)
- [Helmet ê³µì‹ ë¬¸ì„œ](https://helmetjs.github.io/)
---

#### 1. ë°ì´í„° ì•”í˜¸í™” ê¸°ë³¸ ê°œë…

ì•”í˜¸í™”(Encryption)ëŠ” ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ê¸° ìœ„í•´ **í‰ë¬¸ì„ ì•”í˜¸ë¬¸ìœ¼ë¡œ ë³€í™˜**í•˜ëŠ” ê³¼ì •ì´ë‹¤.  
Node.jsì—ì„œëŠ” `crypto` ëª¨ë“ˆê³¼ `bcrypt` ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.

| êµ¬ë¶„ | ë‹¨ë°©í–¥ ì•”í˜¸í™” | ì–‘ë°©í–¥ ì•”í˜¸í™” |
|------|---------------|---------------|
| ì„¤ëª… | ì›ë³¸ ë³µí˜¸í™” ë¶ˆê°€ (Hash) | ì•”í˜¸ë¬¸ â†’ í‰ë¬¸ ë³µí˜¸í™” ê°€ëŠ¥ |
| ì˜ˆì‹œ | ë¹„ë°€ë²ˆí˜¸ ì €ì¥ | HTTPS í†µì‹ , íŒŒì¼ ì•”í˜¸í™” |
| ì•Œê³ ë¦¬ì¦˜ | SHA-256, bcrypt | AES, RSA |

---

#### 2. ë‹¨ë°©í–¥ ì•”í˜¸í™” â€” í•´ì‹œ(Hash)

##### SHA-256 ì˜ˆì‹œ
```js
import crypto from 'crypto';
const hash = crypto.createHash('sha256').update('password123').digest('hex');
console.log(hash); // í•´ì‹œ ê²°ê³¼ (64ìë¦¬)
```

##### í•´ì‹œ + Salt (ë ˆì¸ë³´ìš° ê³µê²© ë°©ì–´)

```js
const salt = crypto.randomBytes(16).toString('hex');
const hash = crypto.pbkdf2Sync('password123', salt, 10000, 64, 'sha512').toString('hex');
console.log({ salt, hash });
```

> ğŸ’¡ **Tip:**
> `pbkdf2Sync`ëŠ” ë°˜ë³µ í•´ì‹œ(Iteration)ì™€ Saltë¥¼ ì ìš©í•´ ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²©ì„ ë°©ì–´í•œë‹¤.

---

#### 3. bcryptë¥¼ ì´ìš©í•œ ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”

`bcrypt`ëŠ” ë¹„ë°€ë²ˆí˜¸ ë³´ê´€ì„ ìœ„í•œ ì—…ê³„ í‘œì¤€ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.

##### ì„¤ì¹˜

```bash
$ npm install bcrypt
```

##### ì˜ˆì‹œ

```js
import bcrypt from 'bcrypt';

const password = 'mySecret';
const saltRounds = 10;

// í•´ì‹±
const hash = await bcrypt.hash(password, saltRounds);
console.log('Hash:', hash);

// ê²€ì¦
const isMatch = await bcrypt.compare(password, hash);
console.log('Password Match:', isMatch);
```

> bcryptëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Blowfish ê¸°ë°˜ í•´ì‹œë¥¼ ìˆ˜í–‰í•˜ë©°,
> CPU ê³„ì‚°ëŸ‰ì´ ë§ì•„ ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²©(Brute-force)ì— ê°•í•˜ë‹¤.

---

#### 4. ì–‘ë°©í–¥ ì•”í˜¸í™” â€” ëŒ€ì¹­í‚¤ AES ì˜ˆì‹œ

##### AES-256-CBC

```js
import crypto from 'crypto';

const key = crypto.randomBytes(32); // 256-bit key
const iv = crypto.randomBytes(16);

function encrypt(text) {
  const cipher = crypto.createCipheriv('aes-256-cbc', key, iv);
  let encrypted = cipher.update(text, 'utf8', 'hex');
  encrypted += cipher.final('hex');
  return encrypted;
}

function decrypt(encrypted) {
  const decipher = crypto.createDecipheriv('aes-256-cbc', key, iv);
  let decrypted = decipher.update(encrypted, 'hex', 'utf8');
  decrypted += decipher.final('utf8');
  return decrypted;
}

const encryptedText = encrypt('Hello Node.js');
console.log('ì•”í˜¸í™”:', encryptedText);
console.log('ë³µí˜¸í™”:', decrypt(encryptedText));
```

> AESëŠ” ê³ ì†Â·ê³ ë³´ì•ˆ ëŒ€ì¹­í‚¤ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ HTTPSì™€ íŒŒì¼ ì•”í˜¸í™”ì—ë„ í™œìš©ëœë‹¤.

---

#### 5. HTTPS / TLS êµ¬ì„±

HTTPSëŠ” ë„¤íŠ¸ì›Œí¬ êµ¬ê°„ì—ì„œ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•˜ì—¬ ì¤‘ê°„ì ê³µê²©(Man-in-the-Middle)ì„ ë°©ì§€í•œë‹¤.
Node.jsì—ì„œëŠ” `https` ëª¨ë“ˆì„ í†µí•´ ì§ì ‘ TLS ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

##### ì˜ˆì‹œ

```js
import https from 'https';
import fs from 'fs';
import express from 'express';

const app = express();

const options = {
  key: fs.readFileSync('certs/server.key'),
  cert: fs.readFileSync('certs/server.crt')
};

https.createServer(options, app).listen(443, () => {
  console.log('ğŸ” HTTPS ì„œë²„ ì‹¤í–‰ ì¤‘');
});
```

> **ì¸ì¦ì„œ ë°œê¸‰**: Let's Encrypt(ë¬´ë£Œ), DigiCert, Sectigo ë“±
> **í…ŒìŠ¤íŠ¸ìš©**: `openssl req -x509 -newkey rsa:4096 -nodes -keyout key.pem -out cert.pem -days 365`

---

#### 6. Helmetì„ í†µí•œ HTTP í—¤ë” ë³´ì•ˆ

`helmet`ì€ Express/Fastifyì—ì„œ ë³´ì•ˆ í—¤ë”ë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë‹¤.

##### ì„¤ì¹˜

```bash
$ npm install helmet
```

##### ì‚¬ìš©

```js
import helmet from 'helmet';
app.use(helmet());
```

| ë³´í˜¸ í•­ëª©                          | ì„¤ëª…              |
| ------------------------------ | --------------- |
| `X-Frame-Options`              | Clickjacking ë°©ì§€ |
| `X-Content-Type-Options`       | MIME ìŠ¤ë‹ˆí•‘ ë°©ì§€     |
| `Strict-Transport-Security`    | HTTPS ì—°ê²° ê°•ì œ     |
| `Cross-Origin-Resource-Policy` | CORS ì •ì±… ê°•í™”      |

---

#### 7. CORS ì„¤ì • (Cross-Origin Resource Sharing)

CORSëŠ” ë¸Œë¼ìš°ì €ê°€ ë‹¤ë¥¸ ë„ë©”ì¸ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ëŠ” ë³´ì•ˆ ì •ì±…ì´ë‹¤.

##### ì„¤ì¹˜ ë° ì„¤ì •

```bash
$ npm install cors
```

```js
import cors from 'cors';
app.use(cors({
  origin: ['https://example.com'],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE']
}));
```

> ğŸ’¡ ì˜ëª»ëœ CORS ì„¤ì •ì€ API í‚¤ ìœ ì¶œ ë° CSRF ê³µê²©ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ
> í—ˆìš© ë„ë©”ì¸ì„ ë°˜ë“œì‹œ ì œí•œí•´ì•¼ í•œë‹¤.

---

#### 8. í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ (.env)

ë¯¼ê°í•œ ì •ë³´(API Key, DB Password)ëŠ” ì½”ë“œì— ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šê³  `.env` íŒŒì¼ì— ì €ì¥í•œë‹¤.

##### ì„¤ì¹˜

```bash
$ npm install dotenv
```

##### ì˜ˆì‹œ

```bash
# .env
PORT=3000
JWT_SECRET=superSecretKey
DB_URL=mysql://user:pass@localhost:3306/db
```

```js
import 'dotenv/config';
console.log(process.env.DB_URL);
```

> `.env` íŒŒì¼ì€ ë°˜ë“œì‹œ `.gitignore`ì— ì¶”ê°€í•´ì•¼ í•œë‹¤.
> í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” `process.env` ê¸°ë°˜ Secret Manager(GCP, AWS, Vault ë“±)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì´ìƒì ì´ë‹¤.

---

#### 9. ì˜ì¡´ì„± ì·¨ì•½ì  ì ê²€

##### ë³´ì•ˆ ìŠ¤ìº”

```bash
$ npm audit
$ npm audit fix
```

##### ìë™ ì—…ë°ì´íŠ¸

```bash
$ npx npm-check-updates -u
$ npm install
```

> **ì˜ì¡´ì„± ê´€ë¦¬ ì›ì¹™**
>
> * ìµœì†Œ ê¶Œí•œ ì›ì¹™ (Least Privilege)
> * ë¶ˆí•„ìš”í•œ íŒ¨í‚¤ì§€ ì œê±°
> * CVE(Critical Vulnerability) ì¦‰ì‹œ ì—…ë°ì´íŠ¸

---

#### 10. Rate Limiterë¥¼ í†µí•œ ìš”ì²­ ì œí•œ

DDoS ë° ê³¼ë„í•œ ìš”ì²­ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ìš”ì²­ ë¹ˆë„ë¥¼ ì œí•œí•œë‹¤.

##### Express ì˜ˆì‹œ

```js
import rateLimit from 'express-rate-limit';

const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15ë¶„
  max: 100, // ìµœëŒ€ 100íšŒ ìš”ì²­
  message: 'Too many requests, please try again later.',
});

app.use(limiter);
```

---

#### 11. ë³´ì•ˆ ê°•í™” ì²´í¬ë¦¬ìŠ¤íŠ¸

| í•­ëª©      | ì„¤ëª…                      | ë„êµ¬/ì„¤ì •                  |
| ------- | ----------------------- | ---------------------- |
| ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ | bcrypt / PBKDF2         | `bcrypt.hash()`        |
| í†µì‹  ì•”í˜¸í™”  | HTTPS / TLS             | `https.createServer()` |
| í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬ | dotenv / Secret Manager | `.env`, Vault          |
| ì…ë ¥ ê²€ì¦   | validator / Zod         | `express-validator`    |
| í—¤ë” ë³´ì•ˆ   | Helmet                  | `app.use(helmet())`    |
| ì·¨ì•½ì  ì ê²€  | npm audit               | `npm audit fix`        |
| ìš”ì²­ ì œí•œ   | Rate Limiter            | `express-rate-limit`   |

---

#### 12. ê²°ë¡ 

Node.js ë³´ì•ˆì€ ì½”ë“œì™€ í™˜ê²½, ë‘ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰œë‹¤.
ì•”í˜¸í™”Â·HTTPSÂ·í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬Â·ì˜ì¡´ì„± ì ê²€ì„ ëª¨ë‘ í†µí•©í•´ì•¼ **ì‹¤ì§ˆì  ë³´ì•ˆ ê°•í™”**ê°€ ê°€ëŠ¥í•˜ë‹¤.


