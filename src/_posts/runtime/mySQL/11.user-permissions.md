---
title: "MySQL 사용자 및 권한 관리 (User & Privilege Management)"
date: 2025-10-26
---

**version: 8.0.x**

#### 요약

- 본 문서는 MySQL의 **사용자 계정 생성, 권한 부여 및 회수, 접근 제어**를 체계적으로 관리하기 위한 가이드이다.  
- DCL(`CREATE USER`, `GRANT`, `REVOKE`) 명령을 중심으로,  
  실무 환경에서 자주 사용하는 **보안 원칙 및 권한 전략**을 포함한다.  
- 권한은 `mysql.user` 시스템 테이블에 저장되며,  
  `flush privileges;` 실행으로 즉시 적용된다.  

> MySQL 권한 관리의 핵심은 **“최소 권한(Least Privilege)” 원칙**이다.
> 즉, 사용자는 업무 수행에 필요한 최소한의 권한만 부여받아야 하며
> 불필요한 `ALL PRIVILEGES` 사용은 피해야 한다.
> 계정은 “생성(Create) → 부여(Grant) → 검증(Show) → 회수(Revoke)”의
> 주기적 관리 프로세스를 통해 운영되어야 한다.

**핵심 포인트**
1. 사용자 생성 및 비밀번호 정책  
2. 권한 부여(`GRANT`) / 회수(`REVOKE`)  
3. 권한 조회(`SHOW GRANTS`)  
4. 원격 접속 및 SSL 설정  
5. 운영 환경 최소 권한 설계 원칙  

---

##### 참고자료  
- [공식 문서: MySQL User Account Management](https://dev.mysql.com/doc/refman/8.0/en/user-account-management.html)  
- 내부 문서:
  - `01-core-languages/03-dcl.md` — 데이터 제어어 기본 문법  
  - `03-tools-and-management/05-security-hardening.md` — 보안 강화 설정  

---

#### 1. 사용자 생성

```sql
create user 'dev'@'localhost' identified by 'Dev@1234!';
create user 'analyst'@'%' identified by 'Data#5678';
```

| 항목              | 설명                  |
| --------------- | ------------------- |
| `'user'@'host'` | 사용자명과 접속 가능한 호스트 지정 |
| `identified by` | 비밀번호 지정             |
| `'localhost'`   | 로컬 접속만 허용           |
| `'%'`           | 원격 접속 허용 (보안상 주의)   |

> ⚠️ 운영 환경에서는 IP 기반 접근 제어(화이트리스트) 적용을 권장한다.

---

#### 2. 사용자 목록 및 인증 방식 확인

```sql
select user, host, plugin from mysql.user;
```

출력 예시:

| user    | host      | plugin                |
| ------- | --------- | --------------------- |
| root    | localhost | caching_sha2_password |
| dev     | localhost | caching_sha2_password |
| analyst | %         | mysql_native_password |

> 💡 `plugin`은 인증 방식으로,
> MySQL 8.0부터는 `caching_sha2_password` 가 기본으로 사용된다.

---

#### 3. 권한 부여 (GRANT)

```sql
grant all privileges on addrdb.* to 'dev'@'localhost';
flush privileges;
```

부분 권한 예시:

```sql
grant select, insert, update on addrdb.tb1k to 'analyst'@'%';
```

| 권한                        | 설명                 |
| ------------------------- | ------------------ |
| `SELECT`                  | 조회 권한              |
| `INSERT`                  | 데이터 추가             |
| `UPDATE`                  | 데이터 수정             |
| `DELETE`                  | 데이터 삭제             |
| `CREATE`, `DROP`, `ALTER` | 테이블 구조 변경          |
| `GRANT OPTION`            | 다른 사용자에게 권한 부여 가능  |
| `ALL PRIVILEGES`          | 모든 권한 부여 (root 수준) |

> ⚙️ `flush privileges;` 는 권한 변경 후 항상 실행해야 즉시 반영된다.

---

#### 4. 권한 회수 (REVOKE)

```sql
revoke insert, update on addrdb.* from 'analyst'@'%';
flush privileges;
```

> ⚠️ 권한 회수 후에도 세션이 유지 중이면 즉시 반영되지 않을 수 있다.
> `exit;` 후 재접속하면 정상 적용된다.

---

#### 5. 권한 조회

```sql
show grants for 'dev'@'localhost';
```

출력 예시:

```
GRANT ALL PRIVILEGES ON `addrdb`.* TO `dev`@`localhost`
```

---

#### 6. 비밀번호 변경

```sql
alter user 'dev'@'localhost' identified by 'New@Password123';
flush privileges;
```

또는 root 계정에서:

```sql
set password for 'analyst'@'%' = 'Data#9999';
```

> ✅ 비밀번호 정책은 `validate_password` 플러그인으로 관리 가능하다.

---

#### 7. 비밀번호 정책 설정

```sql
show variables like 'validate_password%';
```

| 변수                                     | 설명                          | 예시 값   |
| -------------------------------------- | --------------------------- | ------ |
| `validate_password.policy`             | 정책 수준 (LOW, MEDIUM, STRONG) | STRONG |
| `validate_password.length`             | 최소 길이                       | 8      |
| `validate_password.mixed_case_count`   | 대/소문자 최소 포함 수               | 1      |
| `validate_password.special_char_count` | 특수문자 최소 포함 수                | 1      |

설정 변경 예시:

```sql
set global validate_password.policy = 'MEDIUM';
set global validate_password.length = 10;
```

---

#### 8. 원격 접속 허용 설정

```sql
create user 'remote'@'%' identified by 'Remote@Pass1';
grant all privileges on addrdb.* to 'remote'@'%';
flush privileges;
```

서버 설정(`/etc/mysql/mysql.conf.d/mysqld.cnf`):

```ini
bind-address = 0.0.0.0
```

포트 허용:

```bash
sudo ufw allow 3306/tcp
```

> 💡 운영 환경에서는 `bind-address` 제한과 SSL 접속(`require ssl`)을 병행해야 한다.

---

#### 9. SSL 인증 기반 사용자

```sql
create user 'secure_user'@'%' require ssl;
grant select on addrdb.* to 'secure_user'@'%';
```

| 유형            | 설명                |
| ------------- | ----------------- |
| `require ssl` | SSL 인증을 통한 암호화 통신 |
| `x509`        | 인증서 기반 접속 허용      |
| `none`        | 일반 접속             |

---

#### 10. 권한 관리 흐름 (Mermaid)

```mermaid
flowchart LR
  A[CREATE USER] --> B[GRANT PRIVILEGES]
  B --> C[FLUSH PRIVILEGES]
  C --> D{검증}
  D -- OK --> E[SHOW GRANTS]
  D -- 수정 필요 --> F[REVOKE / ALTER USER]
  F --> C
```

---

#### 11. 실무용 계정 예시

| 계정                | 접근 범위       | 권한                     | 설명    |
| ----------------- | ----------- | ---------------------- | ----- |
| `admin@localhost` | 모든 DB       | ALL PRIVILEGES         | 관리자용  |
| `dev@%`           | addrdb.*    | SELECT, INSERT, UPDATE | 개발자용  |
| `analyst@%`       | addrdb.tb1k | SELECT                 | 분석용   |
| `readonly@%`      | 특정 테이블      | SELECT                 | 조회 전용 |

---

#### 12. 주기적 점검 및 유지관리

1. `select user, host from mysql.user;` — 계정 목록 점검
2. `show grants for ...` — 권한 확인
3. 미사용 계정 정리 (`drop user`)
4. 비밀번호 정책 재검증 (`validate_password` 설정 유지)
5. `flush privileges;` 정기 실행

---

