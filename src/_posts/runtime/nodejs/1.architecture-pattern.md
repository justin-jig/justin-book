---
title: "Node.js ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ â€” ê³„ì¸µí˜• ì„¤ê³„ì™€ íŒ¨í„´ ì ìš© ì „ëµ"
date: 2025-10-24
---

#### ìš”ì•½
> Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ ëª¨ë“ˆí™”ì™€ ê³„ì¸µ ë¶„ë¦¬ê°€ ì¤‘ìš”í•˜ë‹¤.  
> MVC, Service Layer, Clean Architecture, Domain-Driven Design(DDD) ê°™ì€ íŒ¨í„´ì„ í™œìš©í•˜ë©´  
> ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í…ŒìŠ¤íŠ¸ íš¨ìœ¨ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.

- MVC íŒ¨í„´: Controller ì¤‘ì‹¬ì˜ êµ¬ì¡°ì  ë¶„ë¦¬
- Service Layer: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬
- Clean Architecture: ì˜ì¡´ì„± ë°©í–¥ í†µì œ
- DDD(Domain-Driven Design): ë„ë©”ì¸ ëª¨ë¸ ì¤‘ì‹¬ ì„¤ê³„

> **ìš”ì•½:**
> ì•„í‚¤í…ì²˜ëŠ” â€œë³µì¡ì„±ì„ ì œì–´í•˜ëŠ” êµ¬ì¡°â€ë‹¤.
> ì½”ë“œë³´ë‹¤ ì¤‘ìš”í•œ ê²ƒì€ **ì˜ì¡´ì„±ì˜ ë°©í–¥ê³¼ ê²½ê³„ì˜ ëª…í™•ì„±**ì´ë‹¤.

##### ì°¸ê³ ìë£Œ
- [Clean Architecture â€” Uncle Bob](https://blog.cleancoder.com/)
- [DDD Reference â€” Eric Evans](https://domainlanguage.com/ddd/)
- [Node.js Architecture Best Practices](https://github.com/goldbergyoni/nodebestpractices)

---

#### 1. ì•„í‚¤í…ì²˜ íŒ¨í„´ ê°œìš”

Node.jsëŠ” ììœ ë„ê°€ ë†’ì€ í™˜ê²½ì´ê¸° ë•Œë¬¸ì—  
í”„ë¡œì íŠ¸ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ ì¼ê´€ëœ ì•„í‚¤í…ì²˜ íŒ¨í„´ì´ í•„ìš”í•˜ë‹¤.

| íŒ¨í„´ | ì„¤ëª… | ì ìš© ê·œëª¨ |
|------|------|------------|
| **MVC** | ì „í†µì  êµ¬ì¡° (Model, View, Controller) | ì†Œê·œëª¨~ì¤‘ê°„ ê·œëª¨ |
| **Service Layer** | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬ | ì¤‘ê°„ ê·œëª¨ ì´ìƒ |
| **Clean Architecture** | ì˜ì¡´ì„± ì—­ì „ êµ¬ì¡° | ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ |
| **DDD (Domain-Driven Design)** | ë„ë©”ì¸ ëª¨ë¸ ì¤‘ì‹¬ ì„¤ê³„ | ë³µì¡í•œ ë„ë©”ì¸ ê¸°ë°˜ ì‹œìŠ¤í…œ |

```mermaid
flowchart LR
  UI["Controller / API Layer"] --> S["Service Layer"]
  S --> R["Repository Layer"]
  R --> D["Database"]
```

---

#### 2. MVC íŒ¨í„´ (Model-View-Controller)

> MVCëŠ” Node.js ì„œë²„ì˜ ê¸°ë³¸ êµ¬ì¡°ë¡œ, ë¼ìš°íŒ…Â·ë·°Â·ë°ì´í„° ì²˜ë¦¬ë¥¼ ëª…í™•íˆ ë¶„ë¦¬í•œë‹¤.

| êµ¬ì„±ìš”ì†Œ           | ì—­í•                       |
| -------------- | ----------------------- |
| **Model**      | ë°ì´í„° ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê´€ë¦¬        |
| **View**       | ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë Œë”ë§           |
| **Controller** | ìš”ì²­ ìˆ˜ì‹  ë° Model â†” View ì—°ê²° |

##### Express ì˜ˆì‹œ

```js
// controller/userController.js
export const getUser = (req, res) => {
  const user = { id: 1, name: 'Ingeun' };
  res.json(user);
};

// routes/user.js
import express from 'express';
import { getUser } from '../controller/userController.js';
const router = express.Router();
router.get('/:id', getUser);
export default router;
```

---

#### 3. Service Layer íŒ¨í„´

Service LayerëŠ” Controllerì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ì—¬
ê° ê³„ì¸µì˜ ì—­í• ì„ ëª…í™•íˆ êµ¬ë¶„í•œë‹¤.

```mermaid
flowchart TD
  A[Controller] --> B[Service]
  B --> C[Repository]
  C --> D[(Database)]
```

##### êµ¬ì¡° ì˜ˆì‹œ

```
src/
 â”œâ”€â”€ controllers/
 â”œâ”€â”€ services/
 â”œâ”€â”€ repositories/
 â”œâ”€â”€ models/
 â””â”€â”€ routes/
```

##### ì½”ë“œ ì˜ˆì‹œ

```ts
// services/userService.ts
import { userRepository } from '../repositories/userRepository';

export async function getUserById(id: number) {
  return await userRepository.findById(id);
}
```

> **ì¥ì :** í…ŒìŠ¤íŠ¸ ìš©ì´ì„±, ê´€ì‹¬ì‚¬ ë¶„ë¦¬, ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
> **ë‹¨ì :** ì´ˆê¸° ì„¤ê³„ ë³µì¡ë„ ì¦ê°€

---

#### 4. Clean Architecture

> Clean ArchitectureëŠ” â€œì˜ì¡´ì„±ì€ í•­ìƒ ë‚´ë¶€ë¡œ í–¥í•´ì•¼ í•œë‹¤(Dependency Rule)â€ëŠ” ì›ì¹™ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.

| ê³„ì¸µ                     | ì—­í•                     | ì˜ˆì‹œ                         |
| ---------------------- | --------------------- | -------------------------- |
| **Entity**             | í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™            | User, Order ë“±              |
| **Use Case (Service)** | ì• í”Œë¦¬ì¼€ì´ì…˜ ê·œì¹™             | createUser(), placeOrder() |
| **Interface Adapter**  | Controller, Presenter | Express Controller         |
| **Framework/Driver**   | DB, Web, UI ë“± ì™¸ë¶€ ëª¨ë“ˆ   | Prisma, Redis, API         |

```mermaid
flowchart LR
  F["Frameworks / Drivers<br/>(Express, Prisma)"] --> A["Interface Adapter"]
  A --> U["Use Cases (Services)"]
  U --> E["Entities (Domain)"]
```

##### ì˜ì¡´ì„± ë°©í–¥ ì˜ˆì‹œ

```
Controller -> Service -> Repository -> Prisma
      â†‘                            â†“
     Express Framework <----------- ì™¸ë¶€
```

> **í•µì‹¬ ê°œë…:**
>
> * ë„ë©”ì¸(Entity)ì€ ì™¸ë¶€ ê¸°ìˆ ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
> * DB, í”„ë ˆì„ì›Œí¬, UIëŠ” ì–¸ì œë“  êµì²´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.

---

#### 5. Repository íŒ¨í„´

> RepositoryëŠ” ë°ì´í„° ì ‘ê·¼ ë¡œì§ì„ ì¶”ìƒí™”í•˜ì—¬
> DB êµì²´ë‚˜ ORM ë³€ê²½ ì‹œ ì„œë¹„ìŠ¤ ì½”ë“œ ë³€ê²½ì„ ìµœì†Œí™”í•œë‹¤.

##### ì˜ˆì‹œ (Prisma ê¸°ë°˜)

```ts
// repositories/userRepository.ts
import { PrismaClient } from '@prisma/client';
const prisma = new PrismaClient();

export const userRepository = {
  findById: async (id: number) => prisma.user.findUnique({ where: { id } }),
  create: async (data) => prisma.user.create({ data }),
};
```

##### ì„œë¹„ìŠ¤ì™€ì˜ ê²°í•© ì˜ˆì‹œ

```ts
// services/userService.ts
import { userRepository } from '../repositories/userRepository';
export const userService = {
  getUser: (id) => userRepository.findById(id),
};
```

> ğŸ’¡ Repositoryë¥¼ ì‚¬ìš©í•˜ë©´ ORM(Prisma â†’ TypeORM ë“±) êµì²´ ì‹œ ì„œë¹„ìŠ¤ ì½”ë“œ ë³€ê²½ì´ ìµœì†Œí™”ëœë‹¤.

---

#### 6. Domain-Driven Design (DDD)

DDDëŠ” **ë„ë©”ì¸ ëª¨ë¸ ì¤‘ì‹¬ ì„¤ê³„**ë¡œ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•œë‹¤.
í•µì‹¬ì€ **ë„ë©”ì¸ ê³„ì¸µì˜ ë…ë¦½ì„±**ì´ë‹¤.

| êµ¬ì„±ìš”ì†Œ             | ì—­í•                         |
| ---------------- | ------------------------- |
| **Entity**       | ê³ ìœ  ì‹ë³„ì(ID)ë¥¼ ê°€ì§„ í•µì‹¬ ê°ì²´      |
| **Value Object** | ë¶ˆë³€ ê°ì²´ (ì˜ˆ: Email, Address) |
| **Aggregate**    | ê´€ë ¨ ì—”í‹°í‹° ì§‘í•©ì˜ ë£¨íŠ¸             |
| **Repository**   | Aggregate ì €ì¥ ë° ì¡°íšŒ         |
| **Service**      | ë„ë©”ì¸ í–‰ìœ„(ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™) ì •ì˜        |

##### ì˜ˆì‹œ

```ts
// domain/user.ts
export class User {
  constructor(private id: number, private name: string) {}
  rename(newName: string) {
    if (newName.length < 2) throw new Error('ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
    this.name = newName;
  }
}
```

---

#### 7. ì•„í‚¤í…ì²˜ ë¹„êµ ìš”ì•½

| í•­ëª©      | MVC   | Service Layer | Clean Architecture | DDD       |
| ------- | ----- | ------------- | ------------------ | --------- |
| êµ¬ì¡° ë‹¨ìˆœì„±  | âœ…     | âœ…             | âš™ï¸                 | âš™ï¸        |
| ìœ ì§€ë³´ìˆ˜ì„±   | ì¤‘     | ë†’ìŒ            | ë§¤ìš° ë†’ìŒ              | ë§¤ìš° ë†’ìŒ     |
| ì˜ì¡´ì„± ì œì–´  | ë‚®ìŒ    | ì¤‘ê°„            | ë†’ìŒ                 | ë§¤ìš° ë†’ìŒ     |
| í…ŒìŠ¤íŠ¸ ìš©ì´ì„± | ì¤‘     | ë†’ìŒ            | ë†’ìŒ                 | ìµœê³         |
| ì ìš© ê·œëª¨   | ì†Œí˜•~ì¤‘í˜• | ì¤‘í˜•            | ëŒ€í˜•                 | ëŒ€í˜•~ë„ë©”ì¸ ì¤‘ì‹¬ |

> **ê¶Œì¥ ì¡°í•©:**
>
> * ì†Œê·œëª¨: MVC
> * ì¤‘ê°„ ê·œëª¨: Service Layer
> * ëŒ€ê·œëª¨ / ë³µì¡ ë„ë©”ì¸: Clean Architecture + DDD í˜¼í•© ì ìš©

---

#### 8. Express + Prisma Clean Architecture ì˜ˆì‹œ êµ¬ì¡°

```bash
src/
 â”œâ”€â”€ domain/
 â”‚    â”œâ”€â”€ user.ts
 â”‚    â””â”€â”€ post.ts
 â”œâ”€â”€ use-cases/
 â”‚    â””â”€â”€ user/
 â”‚         â”œâ”€â”€ getUser.ts
 â”‚         â””â”€â”€ createUser.ts
 â”œâ”€â”€ infrastructure/
 â”‚    â”œâ”€â”€ prisma/
 â”‚    â”‚    â””â”€â”€ client.ts
 â”‚    â””â”€â”€ repositories/
 â”œâ”€â”€ interfaces/
 â”‚    â”œâ”€â”€ http/
 â”‚    â”‚    â”œâ”€â”€ routes/
 â”‚    â”‚    â””â”€â”€ controllers/
 â””â”€â”€ app.ts
```

> ì´ êµ¬ì¡°ëŠ” ë„ë©”ì¸ ë¡œì§ì„ ì™„ì „íˆ ë…ë¦½ì‹œì¼œ
> Expressë‚˜ Prismaë¥¼ êµì²´í•˜ë”ë¼ë„ ì„œë¹„ìŠ¤ í•µì‹¬ ë¡œì§ì´ ì˜í–¥ì„ ë°›ì§€ ì•Šê²Œ í•œë‹¤.

---

#### 9. ê²°ë¡ 

Node.js ì„œë¹„ìŠ¤ì˜ ì•„í‚¤í…ì²˜ëŠ” **ê·œëª¨ì™€ ë³µì¡ë„**ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.
MVCì—ì„œ ì‹œì‘í•´ Service Layer â†’ Clean Architecture â†’ DDDë¡œ í™•ì¥í•´ ë‚˜ê°€ë©´
ê¸°ìˆ  ë¶€ì±„ë¥¼ ìµœì†Œí™”í•˜ë©´ì„œ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ ëª¨ë‘ í™•ë³´í•  ìˆ˜ ìˆë‹¤.

