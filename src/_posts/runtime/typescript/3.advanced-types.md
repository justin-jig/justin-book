---
title: "ê³ ê¸‰ íƒ€ì… íŒ¨í„´ (Advanced Type Patterns)"
date: 2025-10-27
---

**version: 1.0.0**

#### ìš”ì•½
- **ê³ ê¸‰ íƒ€ì…(Advanced Types)** ì€ TypeScriptì˜ ê°•ë ¥í•œ íƒ€ì… ì¶”ë¡  ë° ì¡°í•© ê¸°ëŠ¥ì„ í™•ì¥í•˜ì—¬,  
  ë³µì¡í•œ ë°ì´í„° êµ¬ì¡°ì™€ ëŸ°íƒ€ì„ ë¡œì§ì„ ì •ì ìœ¼ë¡œ ëª¨ë¸ë§í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.  
- ë³¸ ë¬¸ì„œëŠ” `Conditional Type`, `Infer`, `Mapped Constraints`, `Variance`,  
  ê·¸ë¦¬ê³  `Template Literal Type`ì„ í™œìš©í•œ **ì‹¤ë¬´í˜• íƒ€ì… ì„¤ê³„ íŒ¨í„´**ì„ ë‹¤ë£¬ë‹¤.  
- â€œíƒ€ì…ìœ¼ë¡œ ë¡œì§ì„ í‘œí˜„í•œë‹¤â€ëŠ” ê°œë…ì„ ìµíˆë©´,  
  ëŸ°íƒ€ì„ ì˜¤ë¥˜ ì—†ì´ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ì„ ì•ˆì •ì ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.  

**í•µì‹¬ ìš”ì•½**
1. ì¡°ê±´ë¶€ íƒ€ì…(`extends ? :`)ì€ ì œì•½ê³¼ ë¶„ê¸°ë¥¼ í†µí•œ íƒ€ì… ë¡œì§ êµ¬í˜„ì— í•µì‹¬ì´ë‹¤.  
2. `infer`ëŠ” íŒ¨í„´ ë§¤ì¹­ ê¸°ë°˜ì˜ íƒ€ì… ì¶”ë¡  ë„êµ¬ì´ë‹¤.  
3. ê³µë³€ì„±/ë°˜ê³µë³€ì„±(`Variance`)ì€ ì œë„¤ë¦­ ê´€ê³„ì˜ ì•ˆì „ì„±ì„ ë³´ì¥í•œë‹¤.  
4. ë§¤í•‘ ì œì•½(`as`, `keyof`, `Extract`, `Exclude`)ì€ ìœ ì—°í•œ íƒ€ì… ë³€í˜•ì„ ì§€ì›í•œë‹¤.  
5. Template Literal íƒ€ì…ê³¼ ê²°í•©í•˜ë©´ â€œíƒ€ì… ê¸°ë°˜ ë©”íƒ€í”„ë¡œê·¸ë˜ë°â€ì´ ê°€ëŠ¥í•˜ë‹¤.  

| í•­ëª©                        | ì„¤ëª…          |
| ------------------------- | ----------- |
| **Conditional Type**      | íƒ€ì… ë¶„ê¸° ì²˜ë¦¬    |
| **infer**                 | íƒ€ì… ì¶”ë¡  ë° ì¶”ì¶œ  |
| **Mapped Constraints**    | êµ¬ì¡°ì  ë³€í˜•      |
| **Variance**              | ì œë„¤ë¦­ ê°„ ê´€ê³„ ì •ì˜ |
| **Template Literal Type** | ë¬¸ìì—´ ê¸°ë°˜ ì¡°í•©   |

> TypeScriptì˜ ê³ ê¸‰ íƒ€ì… ì‹œìŠ¤í…œì€ ë‹¨ìˆœí•œ ë°ì´í„° ê²€ì¦ì„ ë„˜ì–´,
> **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìì²´ë¥¼ íƒ€ì… ë ˆë²¨ì—ì„œ ëª¨ë¸ë§**í•  ìˆ˜ ìˆë‹¤.
> ì´ëŠ” â€œëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ ì»´íŒŒì¼ ì‹œì ì— ì œê±°í•˜ëŠ”â€ TypeScriptì˜ ê¶ê·¹ì ì¸ ëª©í‘œì´ë‹¤.

##### ì°¸ê³ ìë£Œ
- [TypeScript Handbook: Advanced Types](https://www.typescriptlang.org/docs/handbook/2/types-from-types.html)
- [TS 5.x Release Notes: Variance & Constraints](https://devblogs.microsoft.com/typescript/)

---

#### 1. ì¡°ê±´ë¶€ íƒ€ì… (Conditional Types)

> â€œíƒ€ì…ì— ì¡°ê±´ë¬¸ì„ ì ìš©í•´ ë¶„ê¸° ì²˜ë¦¬í•˜ëŠ” ê³ ê¸‰ êµ¬ë¬¸â€

```ts
type IsString<T> = T extends string ? true : false;

type A = IsString<"Hello">; // true
type B = IsString<number>;  // false
```

| ë¬¸ë²•                    | ì„¤ëª…                     |
| --------------------- | ---------------------- |
| `T extends U ? X : Y` | Tê°€ Uì— í• ë‹¹ ê°€ëŠ¥í•˜ë©´ X, ì•„ë‹ˆë©´ Y |
| `extends`             | íƒ€ì… ì œì•½ ì¡°ê±´ í‘œí˜„            |
| ì¤‘ì²© ê°€ëŠ¥                 | ì¡°ê±´ ì¤‘ì²©ìœ¼ë¡œ ë³µí•© ë¶„ê¸° êµ¬í˜„       |

> ğŸ’¡ ìœ ë‹ˆì–¸ íƒ€ì…(`A | B`)ì— ì ìš©í•˜ë©´ **Distributive Conditional Type**ìœ¼ë¡œ ë¶„ë°° í‰ê°€ëœë‹¤.

---

#### 2. ë¶„ë°° ì¡°ê±´ë¶€ íƒ€ì… (Distributive Conditional Type)

> ìœ ë‹ˆì–¸ íƒ€ì…ì´ ì¡°ê±´ë¶€ íƒ€ì…ì˜ `extends`ì— ì „ë‹¬ë˜ë©´ **ê° ìš”ì†Œë³„ë¡œ í‰ê°€**ëœë‹¤.

```ts
type NonNullable<T> = T extends null | undefined ? never : T;

type Clean = NonNullable<string | null | number>;
// string | number
```

| íŠ¹ì§•       | ì„¤ëª…                                              |             |
| -------- | ----------------------------------------------- | ----------- |
| ë¶„ë°° í‰ê°€    | `A                                              | B` ê°ê° ì¡°ê±´ í‰ê°€ |
| never ì œê±° | ë¶ˆë§Œì¡± ì¡°ê±´ ì œê±°                                       |             |
| ìœ í‹¸ë¦¬í‹° ê¸°ë°˜  | `Exclude`, `Extract`, `ReturnType` ë“± ëª¨ë‘ ì´ ì›ë¦¬ ì‚¬ìš© |             |

> âš™ï¸ ë¶„ë°° ì¡°ê±´ë¶€ íƒ€ì…ì€ â€œìœ í˜• í•„í„°ë§(Filter)â€ì˜ í•µì‹¬ ë„êµ¬ë‹¤.

---

#### 3. `infer` â€” íƒ€ì… ì¶”ë¡ ì„ ìœ„í•œ íŒ¨í„´ ë§¤ì¹­

> â€œíƒ€ì… ë ˆë²¨ì˜ êµ¬ì¡°ë¶„í•´(Destructuring)â€

```ts
type Return<T> = T extends (...args: any[]) => infer R ? R : never;

function getUser() {
  return { id: 1, name: "Ingeun" };
}

type User = Return<typeof getUser>; // { id: number; name: string }
```

| í‚¤ì›Œë“œ                      | ì„¤ëª…                   |
| ------------------------ | -------------------- |
| `infer`                  | íƒ€ì… íŒ¨í„´ ë‚´ë¶€ì—ì„œ ìƒˆ ë³€ìˆ˜ì²˜ëŸ¼ ì¶”ì¶œ |
| `extends ... => infer R` | í•¨ìˆ˜ ë°˜í™˜ íƒ€ì… ê°ì§€          |
| ê²°ê³¼                       | íƒ€ì…ì„ ë‚´ë¶€ êµ¬ì¡°ë¡œë¶€í„° ìœ ì¶”      |

> ğŸ’¡ `Promise<T>`ë‚˜ `Array<T>` ë‚´ë¶€ íƒ€ì… ì¶”ì¶œì—ë„ ìì£¼ ì‚¬ìš©ëœë‹¤.

---

#### 4. inferë¥¼ í™œìš©í•œ Promise ë‚´ë¶€ íƒ€ì… ì¶”ì¶œ

```ts
type Awaited<T> = T extends Promise<infer R> ? R : T;

type A = Awaited<Promise<number>>; // number
type B = Awaited<Promise<string[]>>; // string[]
```

| ì‚¬ìš© ì‚¬ë¡€       | ì„¤ëª…               |
| ----------- | ---------------- |
| API í˜¸ì¶œ ê²°ê³¼   | Promise ë‚´ë¶€ íƒ€ì… í™•ì¸ |
| async í•¨ìˆ˜ ë°˜í™˜ | ë¹„ë™ê¸° ë°˜í™˜ íƒ€ì… ìë™ ê°ì§€  |
| ë°ì´í„° ì „ì²˜ë¦¬     | Await í›„ íƒ€ì… ì¼ì¹˜ ë³´ì¥ |

> âš™ï¸ TypeScript 5.x ë¶€í„° `Awaited<T>`ëŠ” í‘œì¤€ ë‚´ì¥ íƒ€ì…ìœ¼ë¡œ ì œê³µëœë‹¤.

---

#### 5. ë§¤í•‘ íƒ€ì… ì œì•½ (Mapped Constraints)

> ë§¤í•‘ íƒ€ì…ì—ì„œ `as`, `keyof`, `Extract`, `Exclude`ë¥¼ ì‚¬ìš©í•´ í‚¤ì™€ ê°’ì„ ë³€í˜•í•œë‹¤.

```ts
type OnlyStringProps<T> = {
  [K in keyof T as T[K] extends string ? K : never]: T[K];
};

interface User {
  id: number;
  name: string;
  email: string;
  active: boolean;
}

type UserStringProps = OnlyStringProps<User>;
// { name: string; email: string }
```

| ê¸°ëŠ¥                   | ì„¤ëª…             |
| -------------------- | -------------- |
| `keyof T`            | ëª¨ë“  í‚¤ë¥¼ ìˆœíšŒ       |
| `as`                 | í‚¤ ì´ë¦„ ë³€í™˜ ë˜ëŠ” í•„í„°ë§ |
| `Extract`, `Exclude` | ì¡°ê±´ ê¸°ë°˜ í‚¤ ì„ íƒ/ì œì™¸  |

> ğŸ¯ ë³µì¡í•œ DTO, Entity ë³€í™˜ ë¡œì§ì„ **íƒ€ì… ìˆ˜ì¤€ì—ì„œ í‘œí˜„**í•  ìˆ˜ ìˆë‹¤.

---

#### 6. í…œí”Œë¦¿ ë¦¬í„°ëŸ´ íƒ€ì… ê²°í•©

> ë¬¸ìì—´ íŒ¨í„´ ê¸°ë°˜ íƒ€ì…ì„ **ì¡°í•© + ì¡°ê±´ë¶€ë¡œ ìƒì„±**

```ts
type EventName<T extends string> = `${T}_event`;

type ClickEvent = EventName<"click">; // "click_event"
type ApiEvent = EventName<"api">;     // "api_event"
```

```ts
type Prefixed<T extends string, P extends string> = `${Uppercase<P>}_${T}`;
type Result = Prefixed<"login", "user">; // "USER_login"
```

| í™œìš© ì˜ˆì‹œ             | ì„¤ëª…                     |
| ----------------- | ---------------------- |
| Redux Action Type | `"USER_LOGIN_SUCCESS"` |
| API Route Key     | `"/api/v1/user/:id"`   |
| i18n Key          | `"home.title"`         |

> âš™ï¸ Template Literal Typeì€ ë¬¸ìì—´ ê¸°ë°˜ ì½”ë“œì˜ **íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥**í•œë‹¤.

---

#### 7. Variance (ê³µë³€ì„± / ë°˜ê³µë³€ì„±)

> ì œë„¤ë¦­ íƒ€ì… ê°„ì˜ **ìƒí˜¸ ëŒ€ì… ê°€ëŠ¥ì„±**ì„ ì •ì˜í•˜ëŠ” ê°œë…ì´ë‹¤.

| ê°œë…                       | ì„¤ëª…                              | ì˜ˆì‹œ            |
| ------------------------ | ------------------------------- | ------------- |
| **ê³µë³€ì„± (Covariant)**      | `T`ê°€ ìƒìœ„ íƒ€ì…ì´ë©´ `Container<T>`ë„ ìƒìœ„ | `readonly` ë°°ì—´ |
| **ë°˜ê³µë³€ì„± (Contravariant)** | `T`ê°€ ìƒìœ„ íƒ€ì…ì´ë©´ `Container<T>`ëŠ” í•˜ìœ„ | í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜       |
| **ë¶ˆë³€ì„± (Invariant)**      | ì™„ì „ ë™ì¼ íƒ€ì…ë§Œ í—ˆìš©                    | ë³µí•© ê°ì²´         |
| **ì´ë³€ì„± (Bivariant)**      | ì–‘ë°©í–¥ í—ˆìš© (ë¹„ê¶Œì¥)                    | ì˜¤ë˜ëœ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜   |

```ts
type Fn<T> = (arg: T) => void;
type FnNumber = Fn<number>;
type FnAny = Fn<any>;

let f: FnNumber = (x: number) => console.log(x);
let g: FnAny = (x: any) => console.log(x);

f = g; // OK (ê³µë³€)
g = f; // ì˜¤ë¥˜ (ë°˜ê³µë³€)
```

> âš™ï¸ í•¨ìˆ˜ íƒ€ì… ì„¤ê³„ ì‹œ **ì…ë ¥ì€ ë°˜ê³µë³€**, **ì¶œë ¥ì€ ê³µë³€**ì„ì„ ê¸°ì–µí•˜ë¼.

---

#### 8. ì œë„¤ë¦­ íƒ€ì… ì¶”ìƒí™” íŒ¨í„´

```ts
type ApiResponse<T> = {
  data: T;
  success: boolean;
  error?: string;
};

type Paginated<T> = ApiResponse<T[]>;

const users: Paginated<{ id: number; name: string }> = {
  data: [{ id: 1, name: "Ingeun" }],
  success: true
};
```

| íŒ¨í„´     | ì„¤ëª…                          |
| ------ | --------------------------- |
| `<T>`  | íƒ€ì… ë§¤ê°œë³€ìˆ˜í™”                    |
| ì¤‘ì²© ì œë„¤ë¦­ | `ApiResponse<T[]>`          |
| ì œì•½ì¡°ê±´   | `<T extends object>` ë“±ìœ¼ë¡œ ì œí•œ |

> ğŸ’¡ ì‹¤ë¬´ì—ì„œëŠ” API ì‘ë‹µ, DTO, Hook ë¦¬í„´ ê°’ ë“±ì„ ì œë„¤ë¦­ìœ¼ë¡œ í†µí•© ê´€ë¦¬í•œë‹¤.

---

#### 9. Conditional Type + Mapped Type ì¡°í•©

```ts
type Mutable<T> = {
  -readonly [K in keyof T]: T[K] extends object ? Mutable<T[K]> : T[K];
};

type DeepReadonly<T> = {
  readonly [K in keyof T]: T[K] extends object ? DeepReadonly<T[K]> : T[K];
};

interface Config {
  readonly env: { readonly mode: string };
}

type M = Mutable<Config>;
type R = DeepReadonly<Config>;
```

| ì¡°í•©                        | ì„¤ëª…                      |
| ------------------------- | ----------------------- |
| `-readonly` / `+readonly` | ì†ì„± ë³€ê²½ì ì¶”ê°€/ì œê±°            |
| ì¡°ê±´ë¶€ ë§¤í•‘                    | ê¹Šì€ êµ¬ì¡°ì˜ ì¬ê·€ ë³€í™˜            |
| í™œìš©                        | Immutable / Mutable ëª¨ë¸ë§ |

> âš™ï¸ Redux Stateë‚˜ Immutable ë°ì´í„° ëª¨ë¸ ì„¤ê³„ ì‹œ ìœ ìš©í•˜ë‹¤.

---

#### 10. ì‹¤ë¬´í˜• ì˜ˆì‹œ â€” Event íƒ€ì… ìë™ ìƒì„±

```ts
type EventMap = {
  click: { x: number; y: number };
  scroll: { deltaY: number };
  keydown: { key: string };
};

type EventHandlers<T extends Record<string, any>> = {
  [K in keyof T as `on${Capitalize<string & K>}`]: (payload: T[K]) => void;
};

type Handlers = EventHandlers<EventMap>;

/*
{
  onClick: (payload: { x: number; y: number }) => void;
  onScroll: (payload: { deltaY: number }) => void;
  onKeydown: (payload: { key: string }) => void;
}
*/
```

| íŠ¹ì§•                      | ì„¤ëª…               |
| ----------------------- | ---------------- |
| `as` + Template Literal | í‚¤ ì´ë¦„ ë™ì  ìƒì„±       |
| `Capitalize`            | ëŒ€ë¬¸ìí™”             |
| ì œë„¤ë¦­ ë§¤í•‘                  | Payload íƒ€ì… ìë™ ìœ ì¶” |

> ğŸ’¡ UI ì´ë²¤íŠ¸, API í•¸ë“¤ëŸ¬, ì†Œì¼“ í†µì‹  êµ¬ì¡° ì •ì˜ ì‹œ **ìë™ íƒ€ì… ìƒì„±**ì— ìì£¼ í™œìš©ëœë‹¤.

---

#### 11. ê³ ê¸‰ íƒ€ì… ë””ë²„ê¹… ê¸°ë²•

> ë³µì¡í•œ íƒ€ì…ì„ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” `type` ë³„ì¹­ê³¼ **ì‹œê°í™” í—¬í¼**ë¥¼ í™œìš©í•œë‹¤.

```ts
type Debug<T> = { [K in keyof T]: T[K] };
type Identity<T> = T extends infer U ? U : never;

type Example = Debug<Return<{ id: number; name: string }>>;
```

| ê¸°ë²•            | ì„¤ëª…          |
| ------------- | ----------- |
| `infer`       | íƒ€ì… ë‚´ë¶€ êµ¬ì¡° ì¶”ì¶œ |
| `Debug<T>`    | ë§¤í•‘ ê²°ê³¼ í™•ì¸ìš©   |
| `Identity<T>` | flattenìš© í—¬í¼ |

> âš™ï¸ VSCodeì—ì„œ Hover ì‹œ íƒ€ì… í‘œì‹œê°€ ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•  ë•Œ ìœ ìš©í•˜ë‹¤.

---

