---
title: "ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ íƒ€ì… ì•„í‚¤í…ì²˜ (Type Architecture & Organization)"
date: 2025-10-27
---


#### ìš”ì•½
- í”„ë¡œì íŠ¸ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ **íƒ€ì…ì˜ ì¬ì‚¬ìš©ì„±ê³¼ êµ¬ì¡°í™”**ëŠ” í•„ìˆ˜ì ì´ë‹¤.  
- ëŒ€ê·œëª¨ TypeScript ì½”ë“œë² ì´ìŠ¤ì—ì„œëŠ” **ë„ë©”ì¸ ë‹¨ìœ„ ë¶„ë¦¬**, **ê³µìš© íƒ€ì… ê³„ì¸µí™”**,  
  **API / DTO / Entityì˜ ëª…í™•í•œ êµ¬ë¶„**ì´ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í˜‘ì—… íš¨ìœ¨ì„ ê²°ì •í•œë‹¤.  
- ë³¸ ë¬¸ì„œëŠ” ì‹¤ë¬´ ê¸°ì¤€ìœ¼ë¡œ **Monorepo / Multi-package / Layered Architecture** í™˜ê²½ì—ì„œì˜  
  íƒ€ì… ì„¤ê³„ ì „ëµì„ ì²´ê³„ì ìœ¼ë¡œ ë‹¤ë£¬ë‹¤.  

**í•µì‹¬ ìš”ì•½**
1. ë„ë©”ì¸ ë‹¨ìœ„ë¡œ íƒ€ì…ì„ ëª¨ë“ˆí™”í•˜ë¼ (User, Order, Auth ë“±).  
2. ì „ì—­ íƒ€ì…(`global.d.ts`) ì‚¬ìš©ì€ ìµœì†Œí™”í•˜ê³ , ëª…ì‹œì  importë¥¼ ìœ ì§€í•˜ë¼.  
3. `types/`, `interfaces/`, `dto/` í´ë”ë¥¼ ëª©ì ë³„ë¡œ êµ¬ë¶„í•˜ë¼.  
4. Monorepoì—ì„œëŠ” **Base TSConfig + References** êµ¬ì¡°ë¥¼ í™œìš©í•˜ë¼.  
5. Entity â†” DTO â†” Response ê°„ ë³€í™˜ì„ **ë§¤í•‘ íƒ€ì…(Mapped Type)** ìœ¼ë¡œ ê´€ë¦¬í•˜ë¼.  

| í•­ëª©                              | ìš”ì•½                             |
| ------------------------------- | ------------------------------ |
| **ë„ë©”ì¸ ë¶„ë¦¬**                      | User, Order, Auth ë“± ë‹¨ìœ„ë³„ íƒ€ì… êµ¬ì¡°í™” |
| **ê³µìš© íƒ€ì… ê³„ì¸µí™”**                   | `types/common/` ì¤‘ì‹¬ í†µí•© ê´€ë¦¬       |
| **Entity â†” DTO â†” Interface ë¶„ë¦¬** | ë°ì´í„° ë³€í™˜ ê²½ê³„ ëª…í™•í™”                  |
| **Monorepo í˜¸í™˜ êµ¬ì¡°**              | Base TSConfig + Reference ê¸°ë°˜   |
| **type-only import**            | ìˆœí™˜ ì˜ì¡´ì„± ë°©ì§€                      |

> íƒ€ì… ì•„í‚¤í…ì²˜ëŠ” ë‹¨ìˆœí•œ ì„ ì–¸ì´ ì•„ë‹ˆë¼,
> **ì‹œìŠ¤í…œì˜ ê³„ì•½(Contract)** ì„ ëª…í™•íˆ ê·œì •í•˜ëŠ” ì„¤ê³„ í–‰ìœ„ë‹¤.
> ì˜ ì„¤ê³„ëœ íƒ€ì… êµ¬ì¡°ëŠ” ëŒ€ê·œëª¨ íŒ€ í˜‘ì—…ì—ì„œ
> â€œë¬¸ì„œë³´ë‹¤ ê°•ë ¥í•œ ì§„ì‹¤ì˜ ì›ì²œ(Single Source of Truth)â€ì´ ëœë‹¤.


##### ì°¸ê³ ìë£Œ
- [TypeScript Docs â€“ Project References](https://www.typescriptlang.org/docs/handbook/project-references.html)
- [Nx / Turborepo Type Sharing Guide](https://nx.dev/packages/js)
- [Domain-Driven Design & TypeScript Patterns](https://khalilstemmler.com/)

##### íƒ€ì… ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TD
  A["Entity DB Model"] --> B["DTO API Layer"]
  B --> C["Interface Service Contract"]
  C --> D["Controller / View"]
  D --> E["Client / API Response"]

  subgraph Shared Types
    F["Common / Utility Types"]
  end

  B --- F
  C --- F
  E --- F
```

> ğŸ¯ ë°ì´í„° íë¦„ì˜ ê° ë‹¨ê³„ì—ì„œ íƒ€ì…ì˜ ì—­í• ì´ ëª…í™•í•´ì•¼
> êµ¬ì¡°ì  ì¼ê´€ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì´ í™•ë³´ëœë‹¤.


---

#### 1. íƒ€ì… ì•„í‚¤í…ì²˜ì˜ ëª©í‘œ

> â€œëª¨ë“  íƒ€ì…ì€ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê³ , ëª…í™•íˆ ê²½ê³„ë¥¼ ê°€ì ¸ì•¼ í•œë‹¤.â€

| ëª©í‘œ | ì„¤ëª… |
|------|------|
| **ëª¨ë“ˆí™”(Modularity)** | ë„ë©”ì¸ ë‹¨ìœ„ë¡œ íƒ€ì…ì„ ë¶„ë¦¬ |
| **ì¼ê´€ì„±(Consistency)** | ê³µìš© ê·œì¹™ê³¼ ë„¤ì´ë° ìœ ì§€ |
| **ê°€ì‹œì„±(Visibility)** | import ê¸°ë°˜ ëª…í™•í•œ ì˜ì¡´ì„± |
| **ìœ ì§€ë³´ìˆ˜ì„±(Maintainability)** | íƒ€ì… ë³€ê²½ì˜ ì˜í–¥ ìµœì†Œí™” |

> ğŸ’¡ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ â€œëª¨ë“  íƒ€ì…ì´ globalë¡œ ì„ì—¬ ìˆëŠ” êµ¬ì¡°â€ëŠ” ìµœì•…ì˜ ìƒí™©ì´ë‹¤.  

---

#### 2. í´ë” êµ¬ì¡° ì˜ˆì‹œ

```

src/
â”œâ”€â”€ types/                    # ì „ì—­ ë˜ëŠ” ê³µìš© íƒ€ì…
â”‚    â”œâ”€â”€ index.d.ts
â”‚    â”œâ”€â”€ global.d.ts
â”‚    â””â”€â”€ common/
â”‚         â”œâ”€â”€ api-response.ts
â”‚         â”œâ”€â”€ pagination.ts
â”‚         â””â”€â”€ error.ts
â”œâ”€â”€ domains/
â”‚    â”œâ”€â”€ user/
â”‚    â”‚    â”œâ”€â”€ user.entity.ts
â”‚    â”‚    â”œâ”€â”€ user.dto.ts
â”‚    â”‚    â”œâ”€â”€ user.interface.ts
â”‚    â”‚    â””â”€â”€ index.ts
â”‚    â”œâ”€â”€ order/
â”‚    â”‚    â”œâ”€â”€ order.entity.ts
â”‚    â”‚    â”œâ”€â”€ order.dto.ts
â”‚    â”‚    â””â”€â”€ order.interface.ts
â”‚    â””â”€â”€ ...
â”œâ”€â”€ shared/
â”‚    â”œâ”€â”€ constants/
â”‚    â”œâ”€â”€ utils/
â”‚    â””â”€â”€ hooks/
â””â”€â”€ main.ts

```

| ë””ë ‰í† ë¦¬ | ì—­í•  |
|-----------|------|
| `types/` | ê³µí†µ ìœ í‹¸ íƒ€ì… ë° ê¸€ë¡œë²Œ ì •ì˜ |
| `domains/` | ë„ë©”ì¸ë³„ Entity, DTO, Interface ë¶„ë¦¬ |
| `shared/` | ëª¨ë“ˆ ê°„ ê³µìœ  ë¦¬ì†ŒìŠ¤ (ìƒìˆ˜, í—¬í¼ ë“±) |
| `global.d.ts` | ì „ì—­ í™•ì¥ (Express, Window ë“±) |

> âš™ï¸ ë„ë©”ì¸ ë‹¨ìœ„ ë¶„ë¦¬ êµ¬ì¡°ëŠ” **DDD(Domain-Driven Design)** íŒ¨í„´ê³¼ë„ í˜¸í™˜ëœë‹¤.

---

#### 3. íƒ€ì… ê³„ì¸µ ì„¤ê³„ ì›ì¹™

| ê³„ì¸µ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **Entity** | DB / ORM ëª¨ë¸ì˜ íƒ€ì… | `UserEntity`, `OrderEntity` |
| **DTO** | API ìš”ì²­/ì‘ë‹µ ë°ì´í„° | `UserDTO`, `OrderResponse` |
| **Interface** | ì„œë¹„ìŠ¤/ë¦¬í¬ì§€í† ë¦¬ ë‚´ë¶€ ê³„ì•½ | `UserService`, `UserRepository` |
| **Utility Types** | ê³µìš© ê¸°ëŠ¥ | `Paginated<T>`, `ApiResponse<T>` |

> ğŸ’¡ `Entity â†” DTO â†” Response` ë³€í™˜ ì‹œ **ë§¤í•‘ íƒ€ì…(Partial, Omit, Pick)** ì„ ì ê·¹ í™œìš©í•œë‹¤.

---

#### 4. ì˜ˆì‹œ â€” Entity, DTO, Interface êµ¬ë¶„

```ts
// user.entity.ts
export interface UserEntity {
  id: number;
  name: string;
  email: string;
  passwordHash: string;
  createdAt: string;
}
```

```ts
// user.dto.ts
import { UserEntity } from "./user.entity";

export type UserDTO = Omit<UserEntity, "passwordHash">;
```

```ts
// user.interface.ts
import { UserDTO } from "./user.dto";

export interface IUserService {
  create(user: UserDTO): Promise<UserDTO>;
  findByEmail(email: string): Promise<UserDTO | null>;
}
```

> âš™ï¸ **Entity â†’ DTO â†’ Service Interface** íë¦„ì€
> ìœ ì§€ë³´ìˆ˜ ì‹œ ì˜í–¥ ë²”ìœ„ë¥¼ ìµœì†Œí™”í•œë‹¤.

---

#### 5. íƒ€ì… ì˜ì¡´ì„± ê´€ë¦¬ ì „ëµ

| íŒ¨í„´                   | ì„¤ëª…                            | ì˜ˆì‹œ                              |
| -------------------- | ----------------------------- | ------------------------------- |
| **ë‹¨ë°©í–¥ ì˜ì¡´ì„±**          | DTO â†’ EntityëŠ” ê°€ëŠ¥, ë°˜ëŒ€ëŠ” ê¸ˆì§€      | `UserDTO` â† `UserEntity`        |
| **ì¤‘ì•™í™”ëœ ìœ í‹¸ íƒ€ì…**       | ê³µìš© íƒ€ì…ì€ `types/common/`ì—ì„œ ê´€ë¦¬   | `Paginated<T>`, `ErrorResponse` |
| **ëª¨ë“ˆ ì™¸ë¶€ import ìµœì†Œí™”** | ë„ë©”ì¸ ë‚´ì—ì„œë§Œ íƒ€ì… ì°¸ì¡°                | `user` ë‚´ë¶€ì—ì„œë§Œ `user.entity` ì°¸ì¡°   |
| **ê²½ë¡œ ë³„ì¹­ ì‚¬ìš©**         | `@domains/user` í˜•íƒœë¡œ í†µí•© import | tsconfig `paths` ì„¤ì •             |

> ğŸ¯ â€œíƒ€ì…ë„ ì˜ì¡´ì„± ê·œì¹™ì„ ë”°ë¼ì•¼ í•œë‹¤â€ â€” ì¦‰, ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µì˜ ê²½ê³„ ì›ì¹™ì„ ê¹¨ì§€ ë§ ê²ƒ.

---

#### 6. ê¸€ë¡œë²Œ íƒ€ì… ìµœì†Œí™” ì›ì¹™

> ì „ì—­ íƒ€ì…(`global.d.ts`)ì€ â€œì˜ˆì™¸ì ì¸ ìƒí™©â€ì—ì„œë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```ts
// types/global.d.ts
declare namespace NodeJS {
  interface ProcessEnv {
    NODE_ENV: "development" | "production";
    DATABASE_URL: string;
  }
}
```

| ê·œì¹™          | ì„¤ëª…                        |
| ----------- | ------------------------- |
| ìµœì†Œ ì „ì—­ í™•ì¥    | ëŸ°íƒ€ì„ í™˜ê²½ë³€ìˆ˜, ì „ì—­ Window ë“±ë§Œ í—ˆìš© |
| ëª¨ë“ˆ ì „ìš© íƒ€ì… ìš°ì„  | import ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ì„¤ê³„         |
| ì¤‘ë³µ ë°©ì§€       | ë™ì¼ ì´ë¦„ ì „ì—­ íƒ€ì… ê¸ˆì§€            |

> âš ï¸ â€œimport ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥í•œ íƒ€ì…â€ì€ ê´€ë¦¬ ë¹„ìš©ì„ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€ì‹œí‚¨ë‹¤.

---

#### 7. Monorepo íƒ€ì… ê³µìœ  ì „ëµ

> ì—¬ëŸ¬ íŒ¨í‚¤ì§€ê°€ ìˆëŠ” í™˜ê²½ì—ì„œëŠ” `composite` ì˜µì…˜ê³¼ `paths` ë³„ì¹­ì„ ê²°í•©í•œë‹¤.

```
/packages
 â”œâ”€â”€ core/                # ê³µí†µ ìœ í‹¸/íƒ€ì…
 â”‚    â”œâ”€â”€ src/
 â”‚    â”‚    â””â”€â”€ types/
 â”‚    â””â”€â”€ tsconfig.json
 â”œâ”€â”€ api/                 # Backend (NestJS)
 â”œâ”€â”€ web/                 # Frontend (React)
 â””â”€â”€ tsconfig.base.json
```

```jsonc
// tsconfig.base.json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@core/*": ["packages/core/src/*"]
    },
    "composite": true,
    "skipLibCheck": true
  }
}
```

| íŠ¹ì§•                  | ì„¤ëª…          |
| ------------------- | ----------- |
| `composite`         | ë¹Œë“œ ìºì‹œ ê³µìœ     |
| `paths`             | íŒ¨í‚¤ì§€ ê°„ íƒ€ì… ì°¸ì¡° |
| `projectReferences` | ì˜ì¡´ ê´€ê³„ ëª…ì‹œ    |

> âš™ï¸ `@core` íŒ¨í‚¤ì§€ì— ê³µí†µ íƒ€ì…ì„ ë°°ì¹˜í•˜ê³ ,
> ê° ì„œë¹„ìŠ¤(`web`, `api`)ì—ì„œ ê°€ì ¸ë‹¤ ì“°ëŠ” êµ¬ì¡°ê°€ ì´ìƒì ì´ë‹¤.

---

#### 8. íƒ€ì… ì´ë¦„ ê·œì¹™ (Naming Convention)

| ë²”ì£¼        | ê·œì¹™                  | ì˜ˆì‹œ                            |
| --------- | ------------------- | ----------------------------- |
| Entity    | PascalCase + Entity | `UserEntity`, `OrderEntity`   |
| DTO       | PascalCase + DTO    | `UserDTO`, `LoginRequestDTO`  |
| Interface | I + PascalCase      | `IUserService`, `IRepository` |
| Utility   | PascalCase          | `Paginated<T>`, `Result<T>`   |
| Enum      | PascalCase, ë‹¨ìˆ˜í˜•     | `enum Role { Admin, User }`   |

> ğŸ’¡ ì¼ê´€ëœ ë„¤ì´ë°ì€ ê²€ìƒ‰ì„±ê³¼ ìë™ì™„ì„± í’ˆì§ˆì„ ê·¹ëŒ€í™”í•œë‹¤.

---

#### 9. ê³µìš© íƒ€ì… ìœ í‹¸ ì˜ˆì‹œ

```ts
// types/common/api-response.ts
export type ApiResponse<T> = {
  success: boolean;
  data?: T;
  error?: string;
};
```

```ts
// types/common/pagination.ts
export type Paginated<T> = {
  items: T[];
  total: number;
  page: number;
  size: number;
};
```

```ts
// types/common/error.ts
export interface ErrorResponse {
  code: string;
  message: string;
  timestamp: string;
}
```

> âš™ï¸ ëª¨ë“  API Response êµ¬ì¡°ë¥¼ í‘œì¤€í™”í•˜ë©´
> í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œì˜ íƒ€ì… ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

---

#### 10. ì‹¤ë¬´ ì˜ˆì‹œ â€” ì„œë¹„ìŠ¤ ê³„ì¸µ íƒ€ì… ì¡°í•©

```ts
// user.service.ts
import type { UserDTO } from "@domains/user/user.dto";
import type { ApiResponse } from "@types/common/api-response";

export interface IUserService {
  register(user: UserDTO): Promise<ApiResponse<UserDTO>>;
  getProfile(id: number): Promise<ApiResponse<UserDTO>>;
}
```

> ğŸ’¡ ê° ê³„ì¸µì€ **ì…ì¶œë ¥ íƒ€ì…ì„ ëª…í™•íˆ ëª…ì‹œ**í•¨ìœ¼ë¡œì¨
> ëŸ°íƒ€ì„ì—ì„œì˜ ê³„ì•½ ì˜¤ë¥˜ë¥¼ ì›ì²œ ì°¨ë‹¨í•œë‹¤.

---

#### 11. íƒ€ì… ë³€ê²½ ì‹œ ì˜í–¥ ìµœì†Œí™” ì „ëµ

| ë¬¸ì œ                  | ì›ì¸                 | í•´ê²°ì±…                       |
| ------------------- | ------------------ | ------------------------- |
| í•˜ìœ„ ì„œë¹„ìŠ¤ ì˜¤ë¥˜           | DTO ë³€ê²½ ì‹œ ì¢…ì† ëª¨ë“ˆ ì˜í–¥  | ì¤‘ì•™ DTO export ê´€ë¦¬          |
| ì¤‘ë³µ ì„ ì–¸               | ë¹„ìŠ·í•œ êµ¬ì¡° ë°˜ë³µ          | ì œë„¤ë¦­ ìœ í‹¸ ì‚¬ìš©                 |
| Circular Dependency | ìƒí˜¸ import          | `type-only import` ì‚¬ìš©     |
| ë²„ì „ ê´€ë¦¬ ë¬¸ì œ            | Monorepo ë‚´ íŒ¨í‚¤ì§€ ë¶ˆì¼ì¹˜ | Project Reference + CI ê²€ì‚¬ |

> âš™ï¸ `type-only import/export` (`import type`)ë¥¼ ì ê·¹ í™œìš©í•˜ë©´
> ìˆœí™˜ ì˜ì¡´ì„±(Circular Import)ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

---


