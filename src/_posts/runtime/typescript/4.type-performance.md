---
title: "타입 검사 성능 및 컴파일 최적화 (Type Performance & Compiler Optimization)"
date: 2025-10-27
---

**version: 1.0.0**

#### 요약
- 대규모 프로젝트에서는 **타입 검사 속도(Type Checking Performance)** 와 **빌드 효율성**이 생산성에 직접적인 영향을 준다.  
- TypeScript는 `incremental`, `skipLibCheck`, `isolatedModules` 등의 **컴파일 최적화 옵션**을 제공하여 빌드 속도를 개선할 수 있다.  
- 또한, 복잡한 제네릭 타입이나 중첩 매핑 타입은 **컴파일 타임을 증가시키는 주요 원인**이므로 구조적 단순화를 병행해야 한다.  

**핵심 요약**
1. `incremental`과 `composite` 옵션은 **빌드 캐싱**을 통해 속도를 개선한다.  
2. `skipLibCheck`는 외부 라이브러리 검사 생략으로 **빌드 안정성**을 높인다.  
3. `isolatedModules`는 각 파일을 독립적으로 처리하여 **병렬 컴파일**을 가능하게 한다.  
4. 불필요한 제네릭 중첩, Union 확장, Deep Type은 **검사 시간의 주된 병목 지점**이다.  
5. tsserver 최적화를 통해 IDE 환경에서 **IntelliSense 반응성**을 유지할 수 있다.  

| 항목                  | 핵심 요약        |
| ------------------- | ------------ |
| **incremental**     | 증분 빌드 캐시 활성화 |
| **skipLibCheck**    | 외부 타입 검사 생략  |
| **isolatedModules** | 병렬 빌드 가속     |
| **composite**       | 모듈 간 캐시 공유   |
| **타입 단순화**          | 복잡한 제네릭 최소화  |

> 타입 검사 성능은 단순한 “빌드 속도” 문제가 아니라
> **개발 피드백 루프(Feedback Loop)의 품질**을 결정한다.
> 효율적인 tsconfig 설정은 곧 **개발자의 집중력을 높이는 엔진**이다.

##### 참고자료
- [TypeScript 공식 문서: Compiler Options](https://www.typescriptlang.org/tsconfig)
- [TypeScript Performance Wiki](https://github.com/microsoft/TypeScript/wiki/Performance)

---

#### 1. 타입 검사 성능 개요

> “빠른 빌드 = 빠른 피드백 루프 = 높은 생산성”

TypeScript는 **AST(Abstract Syntax Tree)** 를 기반으로 타입을 계산하므로,  
복잡한 타입 체계나 대형 프로젝트에서는 검사 시간이 기하급수적으로 증가할 수 있다.

| 주요 병목 원인 | 설명 |
|----------------|------|
| 과도한 제네릭 중첩 | 재귀 추론 비용 증가 |
| 대형 유니언 타입 | 모든 조합 비교 비용 상승 |
| 불필요한 타입 변환 | 매핑·조건부 타입 연쇄 |
| 파일 간 의존성 순환 | 캐시 재생성 반복 |

> 💡 **핵심 목표:** 정확도(Type Safety)는 유지하면서 **컴파일 단위 최소화**  

---

#### 2. `tsconfig.json` 최적화 기본 설정

```jsonc
{
  "compilerOptions": {
    "target": "es2020",
    "module": "esnext",
    "strict": true,
    "skipLibCheck": true,
    "incremental": true,
    "composite": true,
    "isolatedModules": true,
    "moduleResolution": "node",
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true
  },
  "exclude": ["node_modules", "build", "dist"]
}
```

| 옵션                | 설명                | 효과                  |
| ----------------- | ----------------- | ------------------- |
| `skipLibCheck`    | 외부 라이브러리 타입 검사 생략 | 빌드 속도 향상 (약 30~40%) |
| `incremental`     | 캐시 기반 증분 빌드       | 재컴파일 최소화            |
| `composite`       | 프로젝트 참조 간 캐시 공유   | 멀티 패키지(monorepo) 지원 |
| `isolatedModules` | 각 파일 독립 컴파일       | 병렬 빌드 가속            |

> ⚙️ **strict + skipLibCheck** 조합은 정확도와 성능의 균형점이다.

---

#### 3. Incremental Build (증분 빌드)

> “변경된 파일만 다시 컴파일”

TypeScript 3.4+ 부터 지원되는 증분 빌드는
이전 컴파일 결과를 캐시(`.tsbuildinfo`) 파일로 저장해 빌드 속도를 단축한다.

```bash
tsc --incremental
```

| 동작 방식 | 설명                    |
| ----- | --------------------- |
| 변경 감지 | 소스 파일 해시 기반 변경 탐지     |
| 캐시 저장 | `.tsbuildinfo` 파일에 저장 |
| 재빌드   | 변경된 파일만 재컴파일          |

> 💡 **Monorepo 환경**에서 `composite`과 함께 사용하면 프로젝트 간 빌드 중복을 방지할 수 있다.

---

#### 4. Composite Projects (복합 프로젝트)

> “대규모 모듈을 병렬로 관리하고 컴파일 캐시를 공유한다.”

```jsonc
{
  "compilerOptions": {
    "composite": true
  },
  "references": [
    { "path": "../shared" },
    { "path": "../core" }
  ]
}
```

| 특징                | 설명                |
| ----------------- | ----------------- |
| `composite: true` | 프로젝트 단위 캐시 생성     |
| `references`      | 다른 모듈 참조 시 종속성 정의 |
| 효과                | 모듈 간 의존성 자동 컴파일   |

> ⚙️ **Turborepo / Nx / Lerna** 기반 환경에서 성능 개선 효과가 크다.

---

#### 5. `skipLibCheck` 옵션

> 외부 라이브러리(`node_modules`) 타입 검사 생략

```jsonc
{
  "compilerOptions": {
    "skipLibCheck": true
  }
}
```

| 장점         | 주의사항         |
| ---------- | ------------ |
| 빌드 속도 향상   | 타사 타입 충돌을 무시 |
| 메모리 사용량 감소 | 타입 불일치 감지 불가 |

> ✅ 일반적인 CI/CD 환경에서는 반드시 활성화 권장 (`true` 기본 세팅)

---

#### 6. `isolatedModules` 옵션

> 각 파일을 독립된 모듈로 컴파일 → 병렬 빌드 지원

```jsonc
{
  "compilerOptions": {
    "isolatedModules": true
  }
}
```

| 장점      | 설명                    |
| ------- | --------------------- |
| 파일 독립성  | 전역 스코프 의존 제거          |
| 빌드 속도   | 병렬 컴파일 가능             |
| ESM 호환성 | `import/export` 문법 강제 |

> ⚙️ Babel, SWC, Vite 등 트랜스파일러와의 호환성을 위해 필수 설정

---

#### 7. 타입 복잡도 최소화 전략

| 항목          | 문제 원인     | 개선 방법                          |
| ----------- | --------- | ------------------------------ |
| 깊은 제네릭 중첩   | 재귀 추론 과다  | 단순화 또는 별도 타입으로 분리              |
| Union이 긴 경우 | 조합 계산 폭증  | Discriminated Union으로 리팩토링     |
| 매핑 타입 남용    | 과도한 변환 연쇄 | Partial/Readonly 등 기본 유틸리티로 대체 |
| any 혼용      | 추론 비활성화   | unknown 또는 제약 있는 제네릭으로 대체      |

```ts
// ❌ 잘못된 예시
type Deep<T> = { [K in keyof T]: Deep<T[K]> };

// ✅ 개선된 예시 (제한 깊이 설정)
type Shallow<T> = { [K in keyof T]: T[K] };
```

> 💡 “타입은 데이터 모델이 아니라, **안전성의 최소 단위**로 설계”해야 한다.

---

#### 8. tsserver 최적화 (IDE 환경)

> TypeScript Language Server는 IntelliSense, Hover, Rename 등의 기능을 제공한다.
> 대규모 프로젝트에서는 tsserver 성능 저하가 발생할 수 있다.

| 설정 항목                                     | 설명                   |
| ----------------------------------------- | -------------------- |
| `"disableAutomaticTypeAcquisition": true` | 불필요한 @types 자동 설치 차단 |
| `"maxNodeModuleJsDepth": 2`               | 외부 JS 파싱 깊이 제한       |
| `"exclude": ["build", "dist"]`            | 불필요한 폴더 제외           |
| `"include": ["src/**/*"]`                 | 명시적 범위 설정            |

> ⚙️ **VSCode에서는** `"typescript.tsserver.log": "off"` 로 IDE 부하를 줄일 수 있다.

---

#### 9. 병렬 빌드 도구 연계

| 빌드 시스템               | 특징           | 최적화 포인트                    |
| -------------------- | ------------ | -------------------------- |
| **SWC / esbuild**    | JS 변환 속도 초고속 | Type Checking은 tsc에서 분리    |
| **Turborepo / Nx**   | 캐시 기반 병렬 빌드  | Incremental + Composite 사용 |
| **Vite**             | HMR + ESM 빌드 | `isolatedModules` 필수       |
| **tsup / tsc-alias** | 라이브러리 빌드 자동화 | Path Alias 지원              |

> 💡 “타입 검사(tsc)”와 “코드 변환(transpile)”을 **분리 운영**하는 것이 최적화의 핵심이다.

---

#### 10. 대규모 프로젝트 성능 개선 사례

| 항목       | Before | After                         |
| -------- | ------ | ----------------------------- |
| 빌드 시간    | 42초    | 11초                           |
| 메모리 사용량  | 2.3GB  | 1.1GB                         |
| CI 빌드 속도 | 4배 향상  | Incremental + skipLibCheck 적용 |
| IDE 응답속도 | 느림     | isolatedModules + exclude 적용  |

> 📈 평균적으로 `incremental + skipLibCheck` 조합은
> **40~70%의 빌드 시간 절감 효과**를 제공한다.

---

#### 11. 타입 검사 분리 전략

> “빌드는 빠르게, 검사(tsc --noEmit)는 별도로”

```bash
# 코드 트랜스파일만 수행 (빌드)
tsc --noEmit false

# 타입 검사만 수행 (CI)
tsc --noEmit --incremental
```

| 구분           | 목적           |
| ------------ | ------------ |
| **빌드 파이프라인** | 트랜스파일 전용     |
| **검증 파이프라인** | 정적 타입 검사 전용  |
| **병렬 실행**    | CI/CD 성능 극대화 |

> ⚙️ CI 환경에서는 타입 검사 단계를 별도로 실행하는 것이 이상적이다.

---


