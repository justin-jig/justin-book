---
title: "Docker Swarm 운영 전략 (Swarm Management)"
date: 2025-10-23
---

#### 요약  
**Docker Swarm** 은 Docker의 기본 클러스터링 솔루션으로,  
여러 노드에 걸친 컨테이너 배포와 상태 관리를 자동화한다.  
`docker service` 명령을 사용하면 서비스 단위로 확장/축소 및 롤링 업데이트가 가능하다.  


* Swarm은 소규모~중형 규모 클러스터에 적합한 내장 오케스트레이터이다.
* `service`, `stack` 단위로 관리하며 자동 롤링 업데이트를 지원한다.
* 복원력 있는 운영 환경 구축에 적합하다.

**핵심 정리**
- Swarm은 네이티브 클러스터링 기능을 제공한다.  
- `manager` 와 `worker` 노드로 구성된다.  
- 서비스 상태를 지속적으로 모니터링하며 자동 복구를 수행한다.  

##### 참고자료
- [Docker Docs – Swarm mode overview](https://docs.docker.com/engine/swarm/)
- [Docker Services and Stacks](https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/)
- [Rolling updates with Swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/)

---

#### 1. Swarm 초기화
```bash
docker swarm init --advertise-addr 192.168.0.10
```

> Manager 노드를 초기화하고 Swarm 클러스터를 생성한다.

---

#### 2. 노드 추가

```bash
docker swarm join --token <WORKER_TOKEN> 192.168.0.10:2377
```

> Worker 노드가 클러스터에 등록된다.

---

#### 3. 서비스 배포

```bash
docker service create --name web --replicas 3 -p 80:80 nginx
```

> Nginx 서비스를 3개의 복제본으로 실행한다.

---

#### 4. 롤링 업데이트

```bash
docker service update --image nginx:latest --update-parallelism 1 --update-delay 10s web
```

> 하나씩 순차 업데이트하며 서비스 중단을 최소화한다.

---

#### 5. 장애 복구

Swarm은 컨테이너 종료를 감지하면 자동으로 새로운 인스턴스를 생성한다.

```bash
docker service ps web
```

> “Desired State” 와 “Current State” 를 비교해 복구 상태를 확인할 수 있다.

---
