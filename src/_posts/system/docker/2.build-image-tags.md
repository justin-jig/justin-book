---
title: "Docker 이미지 태그 전략 (1)"
date: 2025-10-23
---

#### 요약  
Docker 이미지의 **태그(Tag)** 는 특정 버전이나 환경을 구분하기 위한 식별자다.  
태그를 올바르게 관리하면 빌드 파이프라인과 배포 자동화를 효율적으로 운영할 수 있다.  
태그는 단순한 이름표이지만, 운영 환경에서는 **명확한 버전 정책(SemVer)** 과 함께 사용해야 한다.  

* 태그는 버전 구분과 배포 자동화의 핵심이다.
* `latest` 대신 명시적 버전 사용을 권장한다.
* SemVer 기반의 버전 정책을 유지하면 운영 안정성이 향상된다.

**핵심 정리**
- 태그는 이미지 버전을 구분하는 핵심 식별자이다.  
- `latest`는 편리하지만, **예측 불가능한 업데이트**를 유발할 수 있다.  
- SemVer(`MAJOR.MINOR.PATCH`) 규칙을 기반으로 버전 관리한다.  
- `docker tag` 명령으로 여러 버전을 동시에 관리할 수 있다.  

##### 참고자료
- [Docker Docs – Tagging images](https://docs.docker.com/engine/reference/commandline/tag/)
- [Semantic Versioning Specification](https://semver.org/)
- [Best Practices for Image Versioning](https://docs.docker.com/develop/dev-best-practices/)

---

#### 1. 태그의 개념

태그(Tag)는 이미지에 부여되는 버전명으로,  
하나의 이미지 ID를 여러 이름으로 참조할 수 있게 한다.

| 명령어 | 설명 |
|:--|:--|
| `docker tag <이미지ID> <이름>:<태그>` | 이미지에 새 태그 부여 |
| `docker images` | 로컬 이미지 목록 확인 |
| `docker rmi <이름>:<태그>` | 이미지 삭제 |

```bash
docker build -t myapp:1.0.0 .
docker tag myapp:1.0.0 myapp:stable
````
---

#### 2. SemVer(유의적 버전) 규칙

| 구분        | 예시      | 의미               |
| :-------- | :------ | :--------------- |
| **MAJOR** | `2.0.0` | 호환되지 않는 변경 발생    |
| **MINOR** | `1.1.0` | 새로운 기능 추가, 호환 유지 |
| **PATCH** | `1.0.1` | 버그 수정, 호환 유지     |

> 예: `v1.2.3` → 주 버전 1, 부 버전 2, 패치 3
> 변경 내용이 커질수록 새로운 이미지로 태그 버전 관리.

---

#### 3. `latest` 태그의 주의점

* 기본적으로 `docker pull myapp` 은 `myapp:latest` 를 가져온다.
* 자동 배포 환경에서는 `latest` 태그로 인한 **예상치 못한 변경**이 발생할 수 있다.
* 항상 **명시적 버전 태그** 사용을 권장한다.

---

#### 4. 다중 태그 운영 예시

```bash
docker build -t registry.company.com/myapp:1.0.0 .
docker tag registry.company.com/myapp:1.0.0 registry.company.com/myapp:stable
docker push registry.company.com/myapp:1.0.0
docker push registry.company.com/myapp:stable
```

> 같은 이미지 ID를 `1.0.0`과 `stable` 두 가지 태그로 동시에 관리 가능하다.

---
