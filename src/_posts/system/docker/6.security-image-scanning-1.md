---
title: "이미지 보안 스캔 (1) – Trivy, Grype 활용"
date: 2025-10-23
---

#### 요약  
Docker 이미지는 운영체제 패키지와 의존성 라이브러리를 포함하므로,  
보안 취약점이 존재할 수 있다.  
**Trivy** 와 **Grype** 는 이미지 내 취약점을 자동으로 탐지하는 대표적인 오픈소스 도구이다.  


* Trivy와 Grype는 이미지 취약점을 탐지하는 핵심 도구이다.
* CI/CD 파이프라인에 스캐너를 통합하면 자동 보안 검증이 가능하다.
* 정기적 스캔을 통해 운영 이미지의 안전성을 유지한다.
* 
**핵심 정리**
- Trivy, Grype는 컨테이너 이미지의 CVE 취약점을 분석한다.  
- CI/CD 파이프라인에 통합하여 빌드 시 자동 검사 가능하다.  
- 결과는 JSON 또는 표 형태로 출력되어 리포트화 가능하다.  

##### 참고자료
- [Trivy GitHub](https://github.com/aquasecurity/trivy)
- [Grype GitHub](https://github.com/anchore/grype)
- [CVE Database](https://cve.mitre.org/)

---

#### 1. Trivy 설치 및 기본 사용

```bash
sudo apt install trivy -y
trivy image nginx:latest
```

출력 예시:

```
nginx:latest (debian 12)
========================
CVE-2024-1234  | HIGH | openssl | 3.0.2
CVE-2024-5678  | MED  | libc6   | 2.31
```

> CVE 코드별 심각도(LOW/MED/HIGH/CRITICAL)가 표시된다.

---

#### 2. Grype 사용 예시

```bash
grype nginx:latest
```

> Anchore에서 개발한 경량 스캐너로, CycloneDX SBOM 파일도 함께 지원한다.

---

#### 3. CI/CD 통합 (GitHub Actions 예시)

```yaml
name: Security Scan
on: [push]
jobs:
  scan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: aquasecurity/trivy-action@master
        with:
          image-ref: myapp:latest
          format: 'table'
          exit-code: '1'
```

> 취약점이 탐지되면 CI 파이프라인이 실패하도록 설정할 수 있다.

---


