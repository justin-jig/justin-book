---
title: "이미지 서명과 검증 (1) – Cosign 서명"
date: 2025-10-23
---

#### 요약  
컨테이너 이미지 서명은 이미지가 **신뢰할 수 있는 출처에서 빌드되었음을 보장**한다.  
Sigstore 프로젝트의 **Cosign** 은 공개 키(Public Key) 기반의 서명 및 검증 도구로,  
CI/CD 파이프라인에 쉽게 통합할 수 있다.  

* Cosign은 컨테이너 이미지 서명의 표준 도구이다.
* 공개 키 기반 서명은 이미지 위변조를 방지한다.
* CI/CD 파이프라인에서 자동 서명 프로세스를 적용해야 한다.

**핵심 정리**
- Cosign은 컨테이너 이미지에 서명(Sign)과 검증(Verify)을 수행한다.  
- 키 기반(`cosign.key`) 또는 키리스(Keyless) 방식으로 운영 가능하다.  
- 서명 정보는 OCI Registry(Harbor, GHCR, Docker Hub 등)에 저장된다.  

##### 참고자료
- [Sigstore Cosign](https://github.com/sigstore/cosign)
- [Cosign Quick Start Guide](https://docs.sigstore.dev/cosign/overview/)
- [Harbor Notary Integration](https://goharbor.io/docs/)

---

#### 1. Cosign 설치
```bash
curl -sSL https://github.com/sigstore/cosign/releases/latest/download/cosign-linux-amd64 \
  -o /usr/local/bin/cosign && chmod +x /usr/local/bin/cosign
```

---

#### 2. 이미지 서명

```bash
cosign sign --key cosign.key myapp:1.0
```

> 이미지 메타데이터에 서명 정보가 추가된다.

---

#### 3. 서명 검증

```bash
cosign verify --key cosign.pub myapp:1.0
```

> 유효한 서명이 검증되면 이미지가 안전하게 배포 가능한 상태임을 의미한다.

---

#### 4. 키리스(Keyless) 서명

```bash
COSIGN_EXPERIMENTAL=1 cosign sign myapp:1.0
```

> OpenID (GitHub Actions, Google, Microsoft 계정 등) 인증 기반으로 자동 서명.

---

