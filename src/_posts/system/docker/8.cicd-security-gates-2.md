---
title: "μΉμΈν• νμ΄ν”„λΌμΈ κµ¬μ„± (Security Gates 2)"
date: 2025-10-23
---

#### μ”μ•½  
μ΄μ ν™κ²½ λ°°ν¬ μ „μ—λ” μ‚¬λμ΄ μ§μ ‘ κ²€ν† Β·μΉμΈν•΄μ•Ό ν•λ” κ²½μ°κ°€ μλ‹¤.  
μ΄λ¥Ό μ„ν•΄ **Manual Approval** λ‹¨κ³„λ¥Ό CI/CD νμ΄ν”„λΌμΈμ— μ‚½μ…ν•μ—¬  
μ¤‘μ” λ³€κ²½μ‚¬ν•­μ„ ν†µμ ν•  μ μλ‹¤.  


* μΉμΈ λ‹¨κ³„λ” μ΄μ ν™κ²½ λ³€κ²½μ„ μ•μ „ν•κ² ν†µμ ν•λ‹¤.
* GitLab, GitHub λ¨λ‘ μλ™ μΉμΈ(Manual Approval)μ„ μ§€μ›ν•λ‹¤.
* μ•λ¦Ό μ‹μ¤ν…κ³Ό μ—°κ³„ν•μ—¬ DevOps ν‘μ—… ν¨μ¨μ„±μ„ λ†’μΌ μ μλ‹¤.


**ν•µμ‹¬ μ •λ¦¬**
- μΉμΈ λ€κΈ° λ‹¨κ³„λ” `manual`, `approval` μµμ…μΌλ΅ μ •μ κ°€λ¥.  
- μΉμΈ μ „κΉμ§€ λ°°ν¬ λ‹¨κ³„κ°€ μ¤‘λ‹¨λλ‹¤.  
- Slack, Teams λ“±μ μ•λ¦Ό μ—°λ™μΌλ΅ ν‘μ—… ν¨μ¨μ„±μ„ λ†’μΌ μ μλ‹¤.  

##### μ°Έκ³ μλ£
- [GitLab CI Manual Jobs](https://docs.gitlab.com/ee/ci/yaml/#whenmanual)
- [GitHub Environments Approvals](https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment)
- [Jenkins Input Step Plugin](https://plugins.jenkins.io/input-step/)

---

#### 1. GitLab CI μμ‹
```yaml
stages:
  - build
  - deploy

deploy_production:
  stage: deploy
  script:
    - docker pull user/myapp:latest
    - docker run -d user/myapp:latest
  when: manual
  environment:
    name: production
```

> `when: manual` λ΅ μ„¤μ •λ λ‹¨κ³„λ” μ‚¬μ©μκ°€ μΉμΈν•  λ•κΉμ§€ λ€κΈ°ν•λ‹¤.

---

#### 2. GitHub Actions ν™κ²½ μΉμΈ μμ‹

```yaml
deployment:
  runs-on: ubuntu-latest
  environment:
    name: production
    url: https://myapp.example.com
    reviewers:
      - ingeun
      - devops-team
```

> μ§€μ •λ μΉμΈμ μ¤‘ ν• λ…μ΄ μΉμΈμ„ ν•΄μ•Ό λ°°ν¬κ°€ μ§„ν–‰λλ‹¤.

---

#### 3. Slack μ•λ¦Ό μ—°λ™

```yaml
- name: Notify Approval
  uses: slackapi/slack-github-action@v2
  with:
    payload: '{"text":"π¦ Production deploy waiting for approval"}'
```

> Slack μ±„λ„μ—μ„ μΉμΈ μ”μ²­μ„ μ‹¤μ‹κ°„μΌλ΅ μ „λ‹¬λ°›μ„ μ μλ‹¤.

---
